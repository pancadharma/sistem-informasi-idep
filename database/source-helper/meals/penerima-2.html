<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Input Dinamis</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .modal-lg { max-width: 80%; }
    </style>
</head>
<body>

<div class="container mt-5">
    <button type="button" class="btn btn-primary mb-3" data-toggle="modal" data-target="#inputModal">Tambah Data</button>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th rowspan="2" class="text-center align-middle">#</th>
                <th rowspan="2" class="align-middle">Nama</th>
                <th rowspan="2" class="align-middle">Gender</th>
                <th rowspan="2" class="align-middle">Disabilitas</th>
                <th rowspan="2" class="align-middle">Kelompok Rentan</th>
                <th class="text-center align-middle" colspan="4">Alamat</th>
                <th rowspan="2" class="align-middle">No. Telp</th>
                <th rowspan="2" class="align-middle">Jenis Kelompok/Instansi</th>
                <th rowspan="2" class="align-middle">Usia</th>
            </tr>
            <tr>
                <th class="align-middle text-center">Desa</th>
                <th class="align-middle text-center">RW / Banjar</th>
                <th class="align-middle text-center">Dusun</th>
                <th class="align-middle text-center">RT</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

<div class="modal fade" id="inputModal" tabindex="-1" role="dialog" aria-labelledby="inputModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="inputModalLabel">Input Data</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">Ã—</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="inputDataForm">
                    <div class="form-group">
                        <label for="nama">Nama</label>
                        <input type="text" class="form-control" id="nama" name="nama" required>
                    </div>
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select class="form-control" id="gender" name="gender">
                            <option value="Perempuan">Perempuan</option>
                            <option value="Laki-laki">Laki-laki</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="disabilitas">Disabilitas</label>
                        <select class="form-control" id="disabilitas" name="disabilitas">
                            <option value="Fisik">Fisik</option>
                            <option value="Sensorik">Sensorik</option>
                            <option value="Intelektual">Intelektual</option>
                            <option value="Mental">Mental</option>
                            <option value="Ganda">Ganda</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="kelompok_rentan">Kelompok Rentan</label>
                        <input type="text" class="form-control" id="kelompok_rentan" name="kelompok_rentan">
                    </div>
                    <div class="form-group">
                        <label>Alamat</label>
                        <input type="text" class="form-control" id="desa" name="desa" placeholder="Desa">
                        <input type="text" class="form-control mt-2" id="rw_banjar" name="rw_banjar" placeholder="RW/Banjar">
                        <input type="text" class="form-control mt-2" id="dusun" name="dusun" placeholder="Dusun">
                        <input type="text" class="form-control mt-2" id="rt" name="rt" placeholder="RT">
                    </div>
                    <div class="form-group">
                        <label for="no_telp">No. Telp</label>
                        <input type="text" class="form-control" id="no_telp" name="no_telp">
                    </div>
                    <div class="form-group">
                        <label for="jenis_kelompok">Jenis Kelompok/Instansi</label>
                        <select class="form-control" id="jenis_kelompok" name="jenis_kelompok">
                            <option value="Option 1">Option 1</option>
                            <option value="Option 2">Option 2</option>
                            <!-- Add more options as needed -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="usia">Usia</label>
                        <input type="number" class="form-control" id="usia" name="usia">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
                <button type="button" class="btn btn-primary" id="simpanData">Simpan</button>
            </div>
        </div>
    </div>
</div>



<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script> <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    let nomor = 1;
    $("#simpanData").click(function () {
        let data = $("#inputDataForm").serializeArray();
        let newRow = `<tr>
            <td>${nomor++}</td>
            <td>${data.find(x => x.name == "nama").value}</td>
            <td>${data.find(x => x.name == "gender").value}</td>
            <td>${data.find(x => x.name == "disabilitas").value}</td>
            <td>${data.find(x => x.name == "kelompok_rentan").value}</td>
            <td>${data.find(x => x.name == "desa").value}</td>
            <td>${data.find(x => x.name == "rw_banjar").value}</td>
            <td>${data.find(x => x.name == "dusun").value}</td>
            <td>${data.find(x => x.name == "rt").value}</td>
            <td>${data.find(x => x.name == "no_telp").value}</td>
            <td>${data.find(x => x.name == "jenis_kelompok").value}</td>
            <td>${data.find(x => x.name == "usia").value}</td>
        </tr>`;

        $("table tbody").append(newRow);
        $("#inputModal").modal("hide");
        $("#inputDataForm")[0].reset();
    });
</script>

</body>
</html>