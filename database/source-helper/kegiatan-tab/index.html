<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="csrf-token" content="5EiVzXUG1578X8XnoOLsoIeXqOiSkQcKWFqFklLL">

    <title>- IDEP Foundation | Tambah -</title>
    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/fontawesome-free/css/all.min.css">
    <link rel="stylesheet"
        href="https://sistem-informasi-idep.dev/vendor/overlayScrollbars/css/OverlayScrollbars.min.css">
    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/adminlte/dist/css/adminlte.min.css">
    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/bootstrap-icons/font/bootstrap-icons.min.css"
        crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet" />
    <style>
        .self-center {
            align-self: center;
        }

        .col-sm-6.col-md-6.col-lg-6.order-1.order-md-2.self-center {
            align-self: end;
        }
    </style>



    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/datatables-new/datatables.min.css">











    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/select2/css/select2.css">




    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/sweetalert2/sweetalert2.min.css">










    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/summernote/summernote-bs4.min.css">







    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/toastr/toastr.css">






    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <style>
        #map {
            height: 350px;
        }
    </style>
    <style>
        .fixed {
            position: fixed;
            bottom: 0;
            left: 0;
            z-index: 2;
            width: 100% !important;
        }

        .content-header h1 {
            font-size: 1.1rem !important;
            margin: 0;
        }

        .note-toolbar {
            background: #00000000 !important;
        }

        .note-editor.note-frame .note-statusbar,
        .note-editor.note-airframe .note-statusbar {
            background-color: #007bff17 !important;
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 4px;
            border-top: 1px solid #00000000;
        }

        .table-custom th:nth-child(2),
        .table-custom td:nth-child(2),
        .table-custom th:nth-child(3),
        .table-custom td:nth-child(3),
        .table-custom th:nth-child(4),
        .table-custom td:nth-child(4) {
            width: 20%;
        }

        .table-custom th:first-child,
        .table-custom td:first-child {
            width: 40%;
        }
    </style>
    <style>
        [class^="view-"] {
            display: inline-flex !important;
            justify-content: center !important;
            gap: 5px !important;
            flex-direction: column !important;
        }

        [class^="edit-"] {
            display: inline-flex !important;
            justify-content: center !important;
            gap: 5px !important;
            flex-direction: column !important;
        }

        td.vertical button[data-action="edit"],
        td.vertical button[data-action="view"] {
            flex-direction: column;
            align-items: center;
        }

        [class^="view-"] {
            display: inline-flex !important;
            justify-content: center !important;
            gap: 5px !important;
            flex-direction: column !important;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 5px;
        }

        .button-container.vertical {
            flex-direction: column;
            align-items: center;
        }

        .button-container.vertical .btn {
            width: 100%;
            margin-bottom: 5px;
        }
    </style>
    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/icheck-bootstrap/icheck-bootstrap.min.css">
    <link rel="stylesheet" href="https://sistem-informasi-idep.dev/vendor/krajee-fileinput/css/fileinput.min.css">
    <style type="text/css">
        .select2 {
            width: 100% !important;
        }
    </style>
    <style>
        .form-control:focus {
            border-color: #d9edf7;
            -webkit-box-shadow: 0 0 0px 2px rgb(87 204 193 / 72%);
            box-shadow: 0 0 0px 2px rgb(87 204 193 / 72%);
        }
    </style>


    <link rel="shortcut icon" href="https://sistem-informasi-idep.dev/favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="57x57" href="https://sistem-informasi-idep.dev/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://sistem-informasi-idep.dev/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://sistem-informasi-idep.dev/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://sistem-informasi-idep.dev/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114"
        href="https://sistem-informasi-idep.dev/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120"
        href="https://sistem-informasi-idep.dev/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144"
        href="https://sistem-informasi-idep.dev/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152"
        href="https://sistem-informasi-idep.dev/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180"
        href="https://sistem-informasi-idep.dev/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://sistem-informasi-idep.dev/favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://sistem-informasi-idep.dev/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://sistem-informasi-idep.dev/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="192x192"
        href="https://sistem-informasi-idep.dev/favicons/android-icon-192x192.png">
    <link rel="manifest" crossorigin="use-credentials" href="https://sistem-informasi-idep.dev/favicons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="https://sistem-informasi-idep.dev/favicon/ms-icon-144x144.png">

    <link rel='stylesheet' type='text/css' property='stylesheet'
        href='/_debugbar/assets/stylesheets?v=1712920837&theme=auto' data-turbolinks-eval='false'
        data-turbo-eval='false'>
    <script src='/_debugbar/assets/javascript?v=1712920837' data-turbolinks-eval='false'
        data-turbo-eval='false'></script>
    <script data-turbo-eval='false'>jQuery.noConflict(true);</script>
    <script> Sfdump = window.Sfdump || (function (doc) { doc.documentElement.classList.add('sf-js-enabled'); var rxEsc = /([.*+?^${}()|\[\]\/\\])/g, idRx = /\bsf-dump-\d+-ref[012]\w+\b/, keyHint = 0 <= navigator.platform.toUpperCase().indexOf('MAC') ? 'Cmd' : 'Ctrl', addEventListener = function (e, n, cb) { e.addEventListener(n, cb, false); }; if (!doc.addEventListener) { addEventListener = function (element, eventName, callback) { element.attachEvent('on' + eventName, function (e) { e.preventDefault = function () { e.returnValue = false; }; e.target = e.srcElement; callback(e); }); }; } function toggle(a, recursive) { var s = a.nextSibling || {}, oldClass = s.className, arrow, newClass; if (/\bsf-dump-compact\b/.test(oldClass)) { arrow = '▼'; newClass = 'sf-dump-expanded'; } else if (/\bsf-dump-expanded\b/.test(oldClass)) { arrow = '▶'; newClass = 'sf-dump-compact'; } else { return false; } if (doc.createEvent && s.dispatchEvent) { var event = doc.createEvent('Event'); event.initEvent('sf-dump-expanded' === newClass ? 'sfbeforedumpexpand' : 'sfbeforedumpcollapse', true, false); s.dispatchEvent(event); } a.lastChild.innerHTML = arrow; s.className = s.className.replace(/\bsf-dump-(compact|expanded)\b/, newClass); if (recursive) { try { a = s.querySelectorAll('.' + oldClass); for (s = 0; s < a.length; ++s) { if (-1 == a[ s ].className.indexOf(newClass)) { a[ s ].className = newClass; a[ s ].previousSibling.lastChild.innerHTML = arrow; } } } catch (e) { } } return true; }; function collapse(a, recursive) { var s = a.nextSibling || {}, oldClass = s.className; if (/\bsf-dump-expanded\b/.test(oldClass)) { toggle(a, recursive); return true; } return false; }; function expand(a, recursive) { var s = a.nextSibling || {}, oldClass = s.className; if (/\bsf-dump-compact\b/.test(oldClass)) { toggle(a, recursive); return true; } return false; }; function collapseAll(root) { var a = root.querySelector('a.sf-dump-toggle'); if (a) { collapse(a, true); expand(a); return true; } return false; } function reveal(node) { var previous, parents = []; while ((node = node.parentNode || {}) && (previous = node.previousSibling) && 'A' === previous.tagName) { parents.push(previous); } if (0 !== parents.length) { parents.forEach(function (parent) { expand(parent); }); return true; } return false; } function highlight(root, activeNode, nodes) { resetHighlightedNodes(root); Array.from(nodes || []).forEach(function (node) { if (!/\bsf-dump-highlight\b/.test(node.className)) { node.className = node.className + ' sf-dump-highlight'; } }); if (!/\bsf-dump-highlight-active\b/.test(activeNode.className)) { activeNode.className = activeNode.className + ' sf-dump-highlight-active'; } } function resetHighlightedNodes(root) { Array.from(root.querySelectorAll('.sf-dump-str, .sf-dump-key, .sf-dump-public, .sf-dump-protected, .sf-dump-private')).forEach(function (strNode) { strNode.className = strNode.className.replace(/\bsf-dump-highlight\b/, ''); strNode.className = strNode.className.replace(/\bsf-dump-highlight-active\b/, ''); }); } return function (root, x) { root = doc.getElementById(root); var indentRx = new RegExp('^(' + (root.getAttribute('data-indent-pad') || ' ').replace(rxEsc, '\\$1') + ')+', 'm'), options = { "maxDepth": 1, "maxStringLength": 160, "fileLinkFormat": false }, elt = root.getElementsByTagName('A'), len = elt.length, i = 0, s, h, t = []; while (i < len) t.push(elt[ i++ ]); for (i in x) { options[ i ] = x[ i ]; } function a(e, f) { addEventListener(root, e, function (e, n) { if ('A' == e.target.tagName) { f(e.target, e); } else if ('A' == e.target.parentNode.tagName) { f(e.target.parentNode, e); } else { n = /\bsf-dump-ellipsis\b/.test(e.target.className) ? e.target.parentNode : e.target; if ((n = n.nextElementSibling) && 'A' == n.tagName) { if (!/\bsf-dump-toggle\b/.test(n.className)) { n = n.nextElementSibling || n; } f(n, e, true); } } }); }; function isCtrlKey(e) { return e.ctrlKey || e.metaKey; } function xpathString(str) { var parts = str.match(/[^'"]+|['"]/g).map(function (part) { if ("'" == part) { return '"\'"'; } if ('"' == part) { return "'\"'"; } return "'" + part + "'"; }); return "concat(" + parts.join(",") + ", '')"; } function xpathHasClass(className) { return "contains(concat(' ', normalize-space(@class), ' '), ' " + className + " ')"; } a('mouseover', function (a, e, c) { if (c) { e.target.style.cursor = "pointer"; } }); a('click', function (a, e, c) { if (/\bsf-dump-toggle\b/.test(a.className)) { e.preventDefault(); if (!toggle(a, isCtrlKey(e))) { var r = doc.getElementById(a.getAttribute('href').slice(1)), s = r.previousSibling, f = r.parentNode, t = a.parentNode; t.replaceChild(r, a); f.replaceChild(a, s); t.insertBefore(s, r); f = f.firstChild.nodeValue.match(indentRx); t = t.firstChild.nodeValue.match(indentRx); if (f && t && f[ 0 ] !== t[ 0 ]) { r.innerHTML = r.innerHTML.replace(new RegExp('^' + f[ 0 ].replace(rxEsc, '\\$1'), 'mg'), t[ 0 ]); } if (/\bsf-dump-compact\b/.test(r.className)) { toggle(s, isCtrlKey(e)); } } if (c) { } else if (doc.getSelection) { try { doc.getSelection().removeAllRanges(); } catch (e) { doc.getSelection().empty(); } } else { doc.selection.empty(); } } else if (/\bsf-dump-str-toggle\b/.test(a.className)) { e.preventDefault(); e = a.parentNode.parentNode; e.className = e.className.replace(/\bsf-dump-str-(expand|collapse)\b/, a.parentNode.className); } }); elt = root.getElementsByTagName('SAMP'); len = elt.length; i = 0; while (i < len) t.push(elt[ i++ ]); len = t.length; for (i = 0; i < len; ++i) { elt = t[ i ]; if ('SAMP' == elt.tagName) { a = elt.previousSibling || {}; if ('A' != a.tagName) { a = doc.createElement('A'); a.className = 'sf-dump-ref'; elt.parentNode.insertBefore(a, elt); } else { a.innerHTML += ' '; } a.title = (a.title ? a.title + '\n[' : '[') + keyHint + '+click] Expand all children'; a.innerHTML += elt.className == 'sf-dump-compact' ? '<span>▶</span>' : '<span>▼</span>'; a.className += ' sf-dump-toggle'; x = 1; if ('sf-dump' != elt.parentNode.className) { x += elt.parentNode.getAttribute('data-depth') / 1; } } else if (/\bsf-dump-ref\b/.test(elt.className) && (a = elt.getAttribute('href'))) { a = a.slice(1); elt.className += ' sf-dump-hover'; elt.className += ' ' + a; if (/[\[{]$/.test(elt.previousSibling.nodeValue)) { a = a != elt.nextSibling.id && doc.getElementById(a); try { s = a.nextSibling; elt.appendChild(a); s.parentNode.insertBefore(a, s); if (/^[@#]/.test(elt.innerHTML)) { elt.innerHTML += ' <span>▶</span>'; } else { elt.innerHTML = '<span>▶</span>'; elt.className = 'sf-dump-ref'; } elt.className += ' sf-dump-toggle'; } catch (e) { if ('&' == elt.innerHTML.charAt(0)) { elt.innerHTML = '…'; elt.className = 'sf-dump-ref'; } } } } } if (doc.evaluate && Array.from && root.children.length > 1) { root.setAttribute('tabindex', 0); SearchState = function () { this.nodes = []; this.idx = 0; }; SearchState.prototype = { next: function () { if (this.isEmpty()) { return this.current(); } this.idx = this.idx < (this.nodes.length - 1) ? this.idx + 1 : 0; return this.current(); }, previous: function () { if (this.isEmpty()) { return this.current(); } this.idx = this.idx > 0 ? this.idx - 1 : (this.nodes.length - 1); return this.current(); }, isEmpty: function () { return 0 === this.count(); }, current: function () { if (this.isEmpty()) { return null; } return this.nodes[ this.idx ]; }, reset: function () { this.nodes = []; this.idx = 0; }, count: function () { return this.nodes.length; }, }; function showCurrent(state) { var currentNode = state.current(), currentRect, searchRect; if (currentNode) { reveal(currentNode); highlight(root, currentNode, state.nodes); if ('scrollIntoView' in currentNode) { currentNode.scrollIntoView(true); currentRect = currentNode.getBoundingClientRect(); searchRect = search.getBoundingClientRect(); if (currentRect.top < (searchRect.top + searchRect.height)) { window.scrollBy(0, -(searchRect.top + searchRect.height + 5)); } } } counter.textContent = (state.isEmpty() ? 0 : state.idx + 1) + ' of ' + state.count(); } var search = doc.createElement('div'); search.className = 'sf-dump-search-wrapper sf-dump-search-hidden'; search.innerHTML = ' <input type="text" class="sf-dump-search-input"> <span class="sf-dump-search-count">0 of 0<\/span> <button type="button" class="sf-dump-search-input-previous" tabindex="-1"> <svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 1331l-166 165q-19 19-45 19t-45-19L896 965l-531 531q-19 19-45 19t-45-19l-166-165q-19-19-19-45.5t19-45.5l742-741q19-19 45-19t45 19l742 741q19 19 19 45.5t-19 45.5z"\/><\/svg> <\/button> <button type="button" class="sf-dump-search-input-next" tabindex="-1"> <svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 808l-742 741q-19 19-45 19t-45-19L109 808q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"\/><\/svg> <\/button> '; root.insertBefore(search, root.firstChild); var state = new SearchState(); var searchInput = search.querySelector('.sf-dump-search-input'); var counter = search.querySelector('.sf-dump-search-count'); var searchInputTimer = 0; var previousSearchQuery = ''; addEventListener(searchInput, 'keyup', function (e) { var searchQuery = e.target.value; /* Don't perform anything if the pressed key didn't change the query */ if (searchQuery === previousSearchQuery) { return; } previousSearchQuery = searchQuery; clearTimeout(searchInputTimer); searchInputTimer = setTimeout(function () { state.reset(); collapseAll(root); resetHighlightedNodes(root); if ('' === searchQuery) { counter.textContent = '0 of 0'; return; } var classMatches = [ "sf-dump-str", "sf-dump-key", "sf-dump-public", "sf-dump-protected", "sf-dump-private", ].map(xpathHasClass).join(' or '); var xpathResult = doc.evaluate('.//span[' + classMatches + '][contains(translate(child::text(), ' + xpathString(searchQuery.toUpperCase()) + ', ' + xpathString(searchQuery.toLowerCase()) + '), ' + xpathString(searchQuery.toLowerCase()) + ')]', root, null, XPathResult.ORDERED_NODE_ITERATOR_TYPE, null); while (node = xpathResult.iterateNext()) state.nodes.push(node); showCurrent(state); }, 400); }); Array.from(search.querySelectorAll('.sf-dump-search-input-next, .sf-dump-search-input-previous')).forEach(function (btn) { addEventListener(btn, 'click', function (e) { e.preventDefault(); -1 !== e.target.className.indexOf('next') ? state.next() : state.previous(); searchInput.focus(); collapseAll(root); showCurrent(state); }) }); addEventListener(root, 'keydown', function (e) { var isSearchActive = !/\bsf-dump-search-hidden\b/.test(search.className); if ((114 === e.keyCode && !isSearchActive) || (isCtrlKey(e) && 70 === e.keyCode)) { /* F3 or CMD/CTRL + F */ if (70 === e.keyCode && document.activeElement === searchInput) { /* * If CMD/CTRL + F is hit while having focus on search input, * the user probably meant to trigger browser search instead. * Let the browser execute its behavior: */ return; } e.preventDefault(); search.className = search.className.replace(/\bsf-dump-search-hidden\b/, ''); searchInput.focus(); } else if (isSearchActive) { if (27 === e.keyCode) { /* ESC key */ search.className += ' sf-dump-search-hidden'; e.preventDefault(); resetHighlightedNodes(root); searchInput.value = ''; } else if ((isCtrlKey(e) && 71 === e.keyCode) /* CMD/CTRL + G */ || 13 === e.keyCode /* Enter */ || 114 === e.keyCode /* F3 */) { e.preventDefault(); e.shiftKey ? state.previous() : state.next(); collapseAll(root); showCurrent(state); } } }); } if (0 >= options.maxStringLength) { return; } try { elt = root.querySelectorAll('.sf-dump-str'); len = elt.length; i = 0; t = []; while (i < len) t.push(elt[ i++ ]); len = t.length; for (i = 0; i < len; ++i) { elt = t[ i ]; s = elt.innerText || elt.textContent; x = s.length - options.maxStringLength; if (0 < x) { h = elt.innerHTML; elt[ elt.innerText ? 'innerText' : 'textContent' ] = s.substring(0, options.maxStringLength); elt.className += ' sf-dump-str-collapse'; elt.innerHTML = '<span class=sf-dump-str-collapse>' + h + '<a class="sf-dump-ref sf-dump-str-toggle" title="Collapse"> ◀</a></span>' + '<span class=sf-dump-str-expand>' + elt.innerHTML + '<a class="sf-dump-ref sf-dump-str-toggle" title="' + x + ' remaining characters"> ▶</a></span>'; } } } catch (e) { } }; })(document); </script>
    <style>
        .sf-js-enabled .phpdebugbar pre.sf-dump .sf-dump-compact,
        .sf-js-enabled .sf-dump-str-collapse .sf-dump-str-collapse,
        .sf-js-enabled .sf-dump-str-expand .sf-dump-str-expand {
            display: none;
        }

        .sf-dump-hover:hover {
            background-color: #B729D9;
            color: #FFF !important;
            border-radius: 2px;
        }

        .phpdebugbar pre.sf-dump {
            display: block;
            white-space: pre;
            padding: 5px;
            overflow: initial !important;
        }

        .phpdebugbar pre.sf-dump:after {
            content: "";
            visibility: hidden;
            display: block;
            height: 0;
            clear: both;
        }

        .phpdebugbar pre.sf-dump span {
            display: inline-flex;
        }

        .phpdebugbar pre.sf-dump a {
            text-decoration: none;
            cursor: pointer;
            border: 0;
            outline: none;
            color: inherit;
        }

        .phpdebugbar pre.sf-dump img {
            max-width: 50em;
            max-height: 50em;
            margin: .5em 0 0 0;
            padding: 0;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAHUlEQVQY02O8zAABilCaiQEN0EeA8QuUcX9g3QEAAjcC5piyhyEAAAAASUVORK5CYII=) #D3D3D3;
        }

        .phpdebugbar pre.sf-dump .sf-dump-ellipsis {
            display: inline-block;
            overflow: visible;
            text-overflow: ellipsis;
            max-width: 5em;
            white-space: nowrap;
            overflow: hidden;
            vertical-align: top;
        }

        .phpdebugbar pre.sf-dump .sf-dump-ellipsis+.sf-dump-ellipsis {
            max-width: none;
        }

        .phpdebugbar pre.sf-dump code {
            display: inline;
            padding: 0;
            background: none;
        }

        .sf-dump-public.sf-dump-highlight,
        .sf-dump-protected.sf-dump-highlight,
        .sf-dump-private.sf-dump-highlight,
        .sf-dump-str.sf-dump-highlight,
        .sf-dump-key.sf-dump-highlight {
            background: rgba(111, 172, 204, 0.3);
            border: 1px solid #7DA0B1;
            border-radius: 3px;
        }

        .sf-dump-public.sf-dump-highlight-active,
        .sf-dump-protected.sf-dump-highlight-active,
        .sf-dump-private.sf-dump-highlight-active,
        .sf-dump-str.sf-dump-highlight-active,
        .sf-dump-key.sf-dump-highlight-active {
            background: rgba(253, 175, 0, 0.4);
            border: 1px solid #ffa500;
            border-radius: 3px;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-hidden {
            display: none !important;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper {
            font-size: 0;
            white-space: nowrap;
            margin-bottom: 5px;
            display: flex;
            position: -webkit-sticky;
            position: sticky;
            top: 5px;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>* {
            vertical-align: top;
            box-sizing: border-box;
            height: 21px;
            font-weight: normal;
            border-radius: 0;
            background: #FFF;
            color: #757575;
            border: 1px solid #BBB;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>input.sf-dump-search-input {
            padding: 3px;
            height: 21px;
            font-size: 12px;
            border-right: none;
            border-top-left-radius: 3px;
            border-bottom-left-radius: 3px;
            color: #000;
            min-width: 15px;
            width: 100%;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>.sf-dump-search-input-next,
        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>.sf-dump-search-input-previous {
            background: #F2F2F2;
            outline: none;
            border-left: none;
            font-size: 0;
            line-height: 0;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>.sf-dump-search-input-next {
            border-top-right-radius: 3px;
            border-bottom-right-radius: 3px;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>.sf-dump-search-input-next>svg,
        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>.sf-dump-search-input-previous>svg {
            pointer-events: none;
            width: 12px;
            height: 12px;
        }

        .phpdebugbar pre.sf-dump .sf-dump-search-wrapper>.sf-dump-search-count {
            display: inline-block;
            padding: 0 5px;
            margin: 0;
            border-left: none;
            line-height: 21px;
            font-size: 12px;
        }

        .phpdebugbar pre.sf-dump,
        .phpdebugbar pre.sf-dump .sf-dump-default {
            word-wrap: break-word;
            white-space: pre-wrap;
            word-break: normal
        }

        .phpdebugbar pre.sf-dump .sf-dump-num {
            font-weight: bold;
            color: #1299DA
        }

        .phpdebugbar pre.sf-dump .sf-dump-const {
            font-weight: bold
        }

        .phpdebugbar pre.sf-dump .sf-dump-str {
            font-weight: bold;
            color: #3A9B26
        }

        .phpdebugbar pre.sf-dump .sf-dump-note {
            color: #1299DA
        }

        .phpdebugbar pre.sf-dump .sf-dump-ref {
            color: #7B7B7B
        }

        .phpdebugbar pre.sf-dump .sf-dump-public {
            color: #000000
        }

        .phpdebugbar pre.sf-dump .sf-dump-protected {
            color: #000000
        }

        .phpdebugbar pre.sf-dump .sf-dump-private {
            color: #000000
        }

        .phpdebugbar pre.sf-dump .sf-dump-meta {
            color: #B729D9
        }

        .phpdebugbar pre.sf-dump .sf-dump-key {
            color: #3A9B26
        }

        .phpdebugbar pre.sf-dump .sf-dump-index {
            color: #1299DA
        }

        .phpdebugbar pre.sf-dump .sf-dump-ellipsis {
            color: #A0A000
        }

        .phpdebugbar pre.sf-dump .sf-dump-ns {
            user-select: none;
        }

        .phpdebugbar pre.sf-dump .sf-dump-ellipsis-note {
            color: #1299DA
        }
    </style>
</head>

<body class="layout-fixed layout-navbar-fixed sidebar-mini">

    <div class="wrapper">

        <div class="preloader flex-column justify-content-center align-items-center" style="">

            <i class="fas fa-4x fa-spin fa-spinner text-secondary"></i>
            <h4 class="mt-4 text-dark">Memuat...</h4>
        </div>


        <nav class="main-header navbar navbar-expand navbar-white navbar-light">

            <ul class="navbar-nav">

                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#">
                        <i class="fas fa-bars"></i>
                        <span class="sr-only">Toggle navigasi</span>
                    </a>
                </li>



            </ul>


            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        ID
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item"
                            href="https://sistem-informasi-idep.dev/kegiatan/create?change_language=en">EN (English)</a>
                        <a class="dropdown-item"
                            href="https://sistem-informasi-idep.dev/kegiatan/create?change_language=id">ID
                            (Indonesian)</a>
                    </div>
                </li>



                <li class="nav-item adminlte-darkmode-widget">

                    <a class="nav-link" href="#" role="button">
                        <i class="far fa-moon text-info"></i>
                    </a>

                </li>





                <li class="nav-item dropdown user-menu">


                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                        <img src="/vendor/adminlte/dist/img/idep.png?t=1736754852"
                            class="user-image img-url img-circle elevation-2" alt="">
                        <span class="d-none d-md-inline">

                        </span>
                    </a>


                    <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-right">


                        <li class="user-header bg-primary
                ">
                            <img src="/vendor/adminlte/dist/img/idep.png?t=1736754852" class="img-circle elevation-2"
                                alt="">
                            <p class="">

                                <small class="user-desc">RGBComputer Super Admin - Dev</small>
                            </p>
                        </li>






                        <li class="user-footer">
                            <a href="https://sistem-informasi-idep.dev/profile/admin"
                                class="nav-link btn btn-default btn-flat d-inline-block">
                                <i class="fa fa-fw fa-user text-lightblue"></i>
                                Profil
                            </a>
                            <a class="btn btn-default btn-flat float-right " href="#"
                                onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
                                <i class="fa fa-fw fa-power-off text-red"></i>
                                Keluar
                            </a>
                            <form id="logout-form" action="https://sistem-informasi-idep.dev/logout" method="POST"
                                style="display: none;">
                                <input type="hidden" name="_token" value="5EiVzXUG1578X8XnoOLsoIeXqOiSkQcKWFqFklLL"
                                    autocomplete="off">
                            </form>
                        </li>

                    </ul>

                </li>


            </ul>

        </nav>


        <aside class="main-sidebar sidebar-dark-primary elevation-4">


            <a href="https://sistem-informasi-idep.dev/home" class="brand-link ">


                <img src="https://sistem-informasi-idep.dev/vendor/adminlte/dist/img/idep.png"
                    alt="IDEP Foundation Admin Logo" class="brand-image img-circle elevation-3" style="opacity:.8">


                <span class="brand-text font-weight-light ">
                    <b>IDEP </b>Foundation
                </span>

            </a>


            <div class="sidebar">
                <nav class="pt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column nav-child-indent" data-widget="treeview"
                        role="menu" data-accordion="false">

                        <li class="nav-item">
                            <a class="nav-link  " href="https://sistem-informasi-idep.dev/profile">
                                <i class="fas fa-fw fa-user text-primary"></i>
                                <p>User Profile
                                </p>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link  " href="https://sistem-informasi-idep.dev/home">
                                <i class="fas fa-tachometer-alt "></i>
                                <p>Dashboard
                                </p>
                            </a>
                        </li>

                        <li class="nav-header text-bold text-uppercase nav-header-pad-as-first">
                            Master Data
                        </li>
                        <li class="nav-item has-treeview ">

                            <a class="nav-link text-bold " href="">
                                <i class="fas fa-copy "></i>
                                <p>
                                    Regional
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>

                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/provinsi">
                                        <i class="fas fa-paste "></i>
                                        <p>Provinsi
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/kabupaten">
                                        <i class="fas fa-table "></i>
                                        <p>Kabupaten
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/kecamatan">
                                        <i class="far fa-plus-square "></i>
                                        <p>Kecamatan
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/desa">
                                        <i class="fas fa-map "></i>
                                        <p>Desa
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/dusun">
                                        <i class="fas fa-table "></i>
                                        <p>Dusun
                                        </p>
                                    </a>
                                </li>

                            </ul>
                        </li>

                        <li class="nav-item has-treeview ">

                            <a class="nav-link text-bold " href="">
                                <i class="far fa-image "></i>
                                <p>
                                    Manajemen User
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>

                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/roles">
                                        <i class="far fa-check-circle "></i>
                                        <p>Role
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/mjabatan">
                                        <i class="fas fa-user-tie "></i>
                                        <p>Jabatan
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/users">
                                        <i class="fas fa-chalkboard-teacher "></i>
                                        <p>Pengguna
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/peran">
                                        <i class="fas fa-users "></i>
                                        <p>Peran
                                        </p>
                                    </a>
                                </li>

                            </ul>
                        </li>

                        <li class="nav-item has-treeview ">

                            <a class="nav-link  " href="">
                                <i class="fas fa-cog "></i>
                                <p>
                                    Setup
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>

                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/kelompokmarjinal">
                                        <i class="fas fa-people-arrows "></i>
                                        <p>Kelompok Marjinal
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/kategoripendonor">
                                        <i class="fas fa-medkit "></i>
                                        <p>Kategori Pendonor
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/pendonor">
                                        <i class="fas fa-hand-holding-medical "></i>
                                        <p>Pendonor
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/partner">
                                        <i class="fas fa-handshake "></i>
                                        <p>Mitra
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/jenisbantuan">
                                        <i class="fas fa-hands-helping "></i>
                                        <p>Jenis Bantuan
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/satuan">
                                        <i class="fas fa-sort-numeric-down "></i>
                                        <p>Satuan
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/kaitan_sdg">
                                        <i class="fas fa-external-link-square-alt "></i>
                                        <p>Kaitan SDG
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/target-reinstra">
                                        <i class="fas fa-shapes "></i>
                                        <p>Target Reinstra
                                        </p>
                                    </a>
                                </li>

                            </ul>
                        </li>

                        <li class="nav-item has-treeview menu-open">

                            <a class="nav-link active " href="">
                                <i class="fas fa-tasks "></i>
                                <p>
                                    Transaksi
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>

                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a class="nav-link  " href="https://sistem-informasi-idep.dev/program">
                                        <i class="nav-icon fas fa-project-diagram "></i>
                                        <p>Program
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link active " href="https://sistem-informasi-idep.dev/kegiatan">
                                        <i class="nav-icon fa fa-user-graduate "></i>
                                        <p>Kegiatan
                                        </p>
                                    </a>
                                </li>

                            </ul>
                        </li>

                        <li class="nav-item has-treeview ">

                            <a class="nav-link  " href="">
                                <i class="fas fa-tachometer-alt "></i>
                                <p>
                                    Evaluasi
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>

                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a class="nav-link  " href="#">
                                        <i class="fas fa-genderless "></i>
                                        <p>Hehe
                                        </p>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " href="#">
                                        <i class="fas fa-genderless "></i>
                                        <p>Hehe
                                        </p>
                                    </a>
                                </li>

                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link  " href="https://sistem-informasi-idep.dev/logs">
                                <i class="fas fa-file-contract text-yellow"></i>
                                <p>Log
                                </p>
                            </a>
                        </li>

                        <li class="nav-header text-bold text-uppercase">
                            Laporan
                        </li>
                        <li class="nav-item">
                            <a class="nav-link  " href="#">
                                <i class="fas fa-file text-cyan"></i>
                                <p>Laporan
                                </p>
                            </a>
                        </li>

                    </ul>
                </nav>
            </div>

        </aside>


        <div class="content-wrapper">




            <div class="content-header">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6 col-md-6 col-lg-6 order-1 order-md-1 self-center">
                            <h1 class="text-muted">
                                <strong> <i class="fas fa-edit"></i>Tambah</strong>
                            </h1>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6 order-2 order-md-2 self-center">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="/">Beranda</a></li>
                                <li class="breadcrumb-item active"><a href="https://sistem-informasi-idep.dev/kegiatan"
                                        title="Daftar Kegiatan"> Daftar Kegiatan </a> </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>


            <div class="content">
                <div class="container-fluid">
                    <form id="createKegiatan" method="POST" class="needs-validation" data-toggle="validator"
                        autocomplete="off" enctype="multipart/form-data">
                        <input type="hidden" name="_token" value="5EiVzXUG1578X8XnoOLsoIeXqOiSkQcKWFqFklLL"
                            autocomplete="off"> <input type="hidden" name="_method" value="POST">
                        <div class="row">

                        </div>
                        <div class="row">
                            <div class="col-12 col-sm-12">
                                <div class="card card-primary card-tabs">
                                    <div class="card-header border-bottom-0 card-header p-0 pt-1">
                                        <ul class="nav nav-tabs" id="details-kegiatan-tab" role="tablist">
                                            <button type="button" class="btn btn-tool btn-small"
                                                data-card-widget="collapse" title="Minimize">
                                                <i class="bi bi-arrows-collapse"></i>
                                            </button>
                                            <li class="nav-item">
                                                <a class="nav-link active" id="basic-tab" data-toggle="pill"
                                                    href="#tab-basic" role="tab" aria-controls="tab-basic"
                                                    aria-selected="true">
                                                    Informasi Dasar
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="description-nav-tab" data-toggle="pill"
                                                    href="#description-tab" role="tab" aria-controls="description-tab"
                                                    aria-selected="false">
                                                    Deskripsi
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="hasil-nav-tab" data-toggle="pill"
                                                    href="#tab-hasil" role="tab" aria-controls="tab-hasil"
                                                    aria-selected="false">
                                                    Hasil Kegiatan
                                                </a>
                                            </li>

                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-files" data-toggle="pill" href="#tab-file"
                                                    role="tab" aria-controls="tab-file" aria-selected="false">
                                                    File
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="custom-tabs-four-report-tab" data-toggle="pill"
                                                    href="#tab-penulis" role="tab" aria-controls="tab-penulis"
                                                    aria-selected="false">
                                                    Penulis
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-body">
                                        <div class="tab-content" id="details-kegiatan-tabContent">
                                            <div class="tab-pane fade show active" id="tab-basic" role="tabpanel"
                                                aria-labelledby="basic-tab">
                                                <div class="form-group row">
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-3 self-center order-1 order-md-1">
                                                        <label for="kode_program"
                                                            class="input-group col-form-label">Kode Program</label>
                                                        <!-- id program -->
                                                        <input type="hidden" name="program_id" id="program_id">
                                                        <!-- kode program -->
                                                        <input type="text" class="form-control" id="kode_program"
                                                            placeholder="Pilih Kode Program" name="kode_program"
                                                            data-toggle="modal" data-target="#ModalDaftarProgram">
                                                    </div>
                                                    <!-- nama program-->
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-9 self-center order-2 order-md-2">
                                                        <label for="nama_program" class="input-group col-form-label">
                                                            Nama Program
                                                        </label>
                                                        <input type="text" class="form-control" id="nama_program"
                                                            placeholder="Nama Program" name="nama_program">
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <!-- kode kegiatan-->
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-3 self-center order-1 order-md-1">
                                                        <label for="kode_kegiatan" class="input-group col-form-label">
                                                            Kode Kegiatan
                                                        </label>
                                                        <input type="hidden" class="form-control"
                                                            id="programoutcomeoutputactivity_id"
                                                            placeholder="Kode Kegiatan"
                                                            name="programoutcomeoutputactivity_id">
                                                        <input type="text" class="form-control" id="kode_kegiatan"
                                                            placeholder="Kode Kegiatan" name="kode_kegiatan"
                                                            data-toggle="modal"
                                                            data-target="#ModalDaftarProgramActivity">
                                                    </div>
                                                    <!-- nama kegiatan-->
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-9 self-center order-2 order-md-2">
                                                        <label for="nama_kegiatan" class="input-group col-form-label">
                                                            Nama Kegiatan
                                                        </label>
                                                        <input type="text" class="form-control" id="nama_kegiatan"
                                                            placeholder="Nama Kegiatan" name="nama_kegiatan">
                                                    </div>
                                                </div>

                                                <div class="form-group row">
                                                    <!-- jenis kegiatan-->
                                                    <!-- bentuk kegiatan-->
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-3 self-center order-1 order-md-1">
                                                        <label for="jenis_kegiatan" class="input-group col-form-label">
                                                            <strong>Jenis Kegiatan</strong>
                                                        </label>
                                                        <div class="select2-purple">
                                                            <select class="form-control select2" name="jenis_kegiatan"
                                                                id="jenis_kegiatan"
                                                                data-api-url="https://sistem-informasi-idep.dev/kegiatan/api/jenis_kegiatan">
                                                                <!-- Options will be populated by select2 -->
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <!-- sektor kegiatan-->
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-3 self-center order-1 order-md-1">
                                                        <label for="sektor_kegiatan" class="input-group col-form-label">
                                                            <strong>Sektor Kegiatan</strong>
                                                        </label>
                                                        <div class="select2-purple">
                                                            <select class="form-control select2" name="sektor_kegiatan"
                                                                id="sektor_kegiatan" multiple
                                                                data-api-url="https://sistem-informasi-idep.dev/kegiatan/api/sektor_kegiatan">
                                                                <!-- Options will be populated by select2 -->
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <!-- fase pelaporan-->
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-2 self-center order-1 order-md-1">
                                                        <label for="fasepelaporan" class="input-group col-form-label">
                                                            <strong>Fase Pelaporan </strong>
                                                            <i class="bi bi-question-circle" data-toggle="tooltip"
                                                                title="Silahkan isi fase keberapakah pelaporan dari kegiatan yang Anda susun ini?"></i>
                                                        </label>
                                                        <div class="select2-purple">
                                                            <select class="form-control select2-readonly"
                                                                name="fasepelaporan" id="fasepelaporan">
                                                                <option value="">Silakan pilih</option>
                                                                <option value="1">1</option>
                                                                <option value="2">2</option>
                                                                <option value="3">3</option>
                                                                <option value="4">4</option>
                                                                <option value="5">5</option>
                                                                <option value="6">6</option>
                                                                <option value="7">7</option>
                                                                <option value="8">8</option>
                                                                <option value="9">9</option>
                                                                <option value="10">10</option>
                                                                <option value="11">11</option>
                                                                <option value="12">12</option>
                                                                <option value="13">13</option>
                                                                <option value="14">14</option>
                                                                <option value="15">15</option>
                                                                <option value="16">16</option>
                                                                <option value="17">17</option>
                                                                <option value="18">18</option>
                                                                <option value="19">19</option>
                                                                <option value="20">20</option>
                                                                <option value="21">21</option>
                                                                <option value="22">22</option>
                                                                <option value="23">23</option>
                                                                <option value="24">24</option>
                                                                <option value="25">25</option>
                                                                <option value="26">26</option>
                                                                <option value="27">27</option>
                                                                <option value="28">28</option>
                                                                <option value="29">29</option>
                                                                <option value="30">30</option>
                                                                <option value="31">31</option>
                                                                <option value="32">32</option>
                                                                <option value="33">33</option>
                                                                <option value="34">34</option>
                                                                <option value="35">35</option>
                                                                <option value="36">36</option>
                                                                <option value="37">37</option>
                                                                <option value="38">38</option>
                                                                <option value="39">39</option>
                                                                <option value="40">40</option>
                                                                <option value="41">41</option>
                                                                <option value="42">42</option>
                                                                <option value="43">43</option>
                                                                <option value="44">44</option>
                                                                <option value="45">45</option>
                                                                <option value="46">46</option>
                                                                <option value="47">47</option>
                                                                <option value="48">48</option>
                                                                <option value="49">49</option>
                                                                <option value="50">50</option>
                                                                <option value="51">51</option>
                                                                <option value="52">52</option>
                                                                <option value="53">53</option>
                                                                <option value="54">54</option>
                                                                <option value="55">55</option>
                                                                <option value="56">56</option>
                                                                <option value="57">57</option>
                                                                <option value="58">58</option>
                                                                <option value="59">59</option>
                                                                <option value="60">60</option>
                                                                <option value="61">61</option>
                                                                <option value="62">62</option>
                                                                <option value="63">63</option>
                                                                <option value="64">64</option>
                                                                <option value="65">65</option>
                                                                <option value="66">66</option>
                                                                <option value="67">67</option>
                                                                <option value="68">68</option>
                                                                <option value="69">69</option>
                                                                <option value="70">70</option>
                                                                <option value="71">71</option>
                                                                <option value="72">72</option>
                                                                <option value="73">73</option>
                                                                <option value="74">74</option>
                                                                <option value="75">75</option>
                                                                <option value="76">76</option>
                                                                <option value="77">77</option>
                                                                <option value="78">78</option>
                                                                <option value="79">79</option>
                                                                <option value="80">80</option>
                                                                <option value="81">81</option>
                                                                <option value="82">82</option>
                                                                <option value="83">83</option>
                                                                <option value="84">84</option>
                                                                <option value="85">85</option>
                                                                <option value="86">86</option>
                                                                <option value="87">87</option>
                                                                <option value="88">88</option>
                                                                <option value="89">89</option>
                                                                <option value="90">90</option>
                                                                <option value="91">91</option>
                                                                <option value="92">92</option>
                                                                <option value="93">93</option>
                                                                <option value="94">94</option>
                                                                <option value="95">95</option>
                                                                <option value="96">96</option>
                                                                <option value="97">97</option>
                                                                <option value="98">98</option>
                                                                <option value="99">99</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <!-- durasi kegiatan-->
                                                    <!-- tgl mulai-->
                                                    <div
                                                        class="col-sm-6 col-md-6 col-lg-2 self-center order-1 order-md-1">
                                                        <label for="tanggalmulai" class="input-group col-form-label">
                                                            Tanggal Mulai
                                                        </label>
                                                        <input type="date" class="form-control" id="tanggalmulai"
                                                            name="tanggalmulai">
                                                    </div>
                                                    <!-- tgl selesai-->
                                                    <div
                                                        class="col-sm-6 col-md-6 col-lg-2 self-center order-2 order-md-2">
                                                        <label for="tanggalselesai" class="input-group col-form-label">
                                                            Tanggal Selesai
                                                        </label>
                                                        <input type="date" class="form-control" id="tanggalselesai"
                                                            name="tanggalselesai">
                                                    </div>
                                                </div>

                                                <!-- nama mitra-->
                                                <div class="form-group row">
                                                    <div
                                                        class="col-sm-12 col-md-9 col-lg-9 self-center order-2 order-md-2">
                                                        <label for="mitra" class="input-group col-form-label">Nama
                                                            Mitra</label>
                                                        <div class="select2-purple">
                                                            <select class="form-control select2"
                                                                data-api-url="https://sistem-informasi-idep.dev/kegiatan/api/mitra"
                                                                id="mitra" placeholder=" Silakan pilih Nama Mitra"
                                                                name="mitra" multiple>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <!-- status kegiatan-->
                                                    <div
                                                        class="col-sm-12 col-md-3 col-lg-3 self-center order-1 order-md-1">
                                                        <label for="status" class="input-group col-form-label">
                                                            <strong>Status</strong>
                                                        </label>
                                                        <div class="select2-purple">
                                                            <select class="form-control" name="status" id="status"
                                                                required placeholder=" Silakan pilih Status Kegiatan">
                                                                <optgroup label="Status Kegiatan">
                                                                    <option value="draft">Draft</option>
                                                                    <option value="ongoing">Ongoing</option>
                                                                    <option value="completed">Completed</option>
                                                                    <option value="cancelled ">Cancelled</option>
                                                                </optgroup>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="form-group row">
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-12 self-center order-1 order-md-1">
                                                        <label for="desa_id"
                                                            class="input-group col-form-label">Desa/Kelurahan</label>
                                                        <select name="desa_id" id="desa_id" class="form-control select2"
                                                            data-api-url="https://sistem-informasi-idep.dev/kegiatan/api/desa"
                                                            data-placeholder="Silakan pilih Desa/Kelurahan">
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="card-info pt-2">
                                                    <div class="card-header pl-1">
                                                        <div
                                                            class="col-sm-12 col-md-12 col-lg-4 self-center order-1 order-md-1">
                                                            <button type="button" id="btn-lokasi-kegiatan"
                                                                class="btn btn-warning">Tambah Lokasi</button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body pl-0 pt-1 pb-0 pr-1 mb-0">
                                                        <div class="form-group row lokasi-kegiatan mb-0">
                                                            <div
                                                                class="col-sm-12 col-md-2 col-lg-1 self-center order-1 order-md-1">
                                                                <label class="input-group col-form-label">
                                                                    Provinsi
                                                                    <i class="bi bi-geo-alt-fill" data-toggle="tooltip"
                                                                        title="Silakan isi nama lokasi dimana kegiatan ini dilakukan, dapat diisi lebih dari 1 lokasi jika diperlukan"></i>
                                                                </label>
                                                            </div>
                                                            <div
                                                                class="col-sm-12 col-md-12 col-lg-1 self-center order-1 order-md-1">
                                                                <label class="input-group col-form-label">
                                                                    Kabupaten
                                                                    <i class="bi bi-geo-alt-fill" data-toggle="tooltip"
                                                                        title="Silakan isi nama lokasi dimana kegiatan ini dilakukan, dapat diisi lebih dari 1 lokasi jika diperlukan"></i>
                                                                </label>
                                                            </div>
                                                            <div
                                                                class="col-sm-12 col-md-12 col-lg-2 self-center order-1 order-md-1">
                                                                <label class="input-group col-form-label">
                                                                    Kecamatan
                                                                    <i class="bi bi-geo-alt-fill" data-toggle="tooltip"
                                                                        title="Silakan isi nama lokasi dimana kegiatan ini dilakukan, dapat diisi lebih dari 1 lokasi jika diperlukan"></i>
                                                                </label>
                                                            </div>
                                                            <div
                                                                class="col-sm-12 col-md-12 col-lg-2 self-center order-1 order-md-1">
                                                                <label class="input-group col-form-label">
                                                                    Desa
                                                                    <i class="bi bi-geo-alt-fill" data-toggle="tooltip"
                                                                        title="Desa"></i>
                                                                </label>
                                                            </div>
                                                            <div
                                                                class="col-sm-12 col-md-12 col-lg-2 self-center order-1 order-md-1">
                                                                <label class="input-group col-form-label">
                                                                    Lokasi Kegiatan
                                                                    <i class="bi bi-geo-alt-fill" data-toggle="tooltip"
                                                                        title="Silakan isi nama lokasi dimana kegiatan ini dilakukan, dapat diisi lebih dari 1 lokasi jika diperlukan"></i>
                                                                </label>
                                                            </div>
                                                            <div
                                                                class="col-sm-12 col-md-12 col-lg-2 self-center order-2 order-md-2">
                                                                <label class="input-group col-form-label">
                                                                    Latitude
                                                                    <i class="bi bi-pin-map-fill" data-toggle="tooltip"
                                                                        title="Silahkan copy-paste titik koordinat lokasi kegiatan dan jelaskan nama lokasinya (bisa lebih dari satu lokasi)"></i>
                                                                </label>
                                                            </div>
                                                            <div
                                                                class="col-sm-10 col-md-10 col-lg-2 self-center order-3 order-md-3">
                                                                <label class="input-group col-form-label">
                                                                    Longitude
                                                                    <i class="bi bi-geo" data-toggle="tooltip"
                                                                        title="Silahkan copy-paste titik koordinat lokasi kegiatan dan jelaskan nama lokasinya (bisa lebih dari satu lokasi)"></i>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="list-lokasi-kegiatan"></div>
                                                </div>

                                                <div class="form-group row">
                                                    <div
                                                        class="col-sm-12 col-md-12 col-lg-4 self-center order-1 order-md-1">
                                                        <label class="input-group col-form-label">
                                                            Get Coordinate
                                                            <i class="bi bi-map-fill"></i>
                                                        </label>
                                                        <div id="map" class="form-control col-form-label"></div>
                                                    </div>
                                                </div>


                                                <!-- Modal -->
                                                <div class="modal fade" id="ModalDaftarProgram" data-backdrop="static"
                                                    tabindex="-1" role="dialog"
                                                    aria-labelledby="TitleModalDaftarProgram" theme="info">
                                                    <div class="modal-dialog modal-dialog-scrollable modal-xl"
                                                        role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header bg-info">
                                                                <h5 class="modal-title" id="TitleModalDaftarProgram">
                                                                    <i class="bi bi-person-plus"></i>
                                                                    Daftar Nama Program
                                                                </h5>
                                                                <button type="button" class="close" data-dismiss="modal"
                                                                    aria-label="Tutup">
                                                                    <span>&times;</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="table-responsive">
                                                                    <table class="table table-bordered table-striped"
                                                                        id="list_program_kegiatan">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Kode Program</th>
                                                                                <th>Nama Program</th>
                                                                                <th></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr data-program-id="1"
                                                                                data-program-kode="PR#1"
                                                                                data-program-nama="Program-1"
                                                                                class="align-middle select-program">
                                                                                <td>PR#1</td>
                                                                                <td>Program-1</td>
                                                                                <td class="text-center">
                                                                                    <button type="button"
                                                                                        class="btn btn-sm btn-info"
                                                                                        data-action="select"
                                                                                        data-toggle="tooltip"
                                                                                        data-placement="top"
                                                                                        title="Pilih">
                                                                                        <i class="bi bi-plus-lg"></i>
                                                                                        <span
                                                                                            class="d-none d-sm-inline"></span>
                                                                                        <span
                                                                                            class="d-sm-none">Pilih</span>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                            <tr data-program-id="2"
                                                                                data-program-kode="#PR-2"
                                                                                data-program-nama="Program Kedua"
                                                                                class="align-middle select-program">
                                                                                <td>#PR-2</td>
                                                                                <td>Program Kedua</td>
                                                                                <td class="text-center">
                                                                                    <button type="button"
                                                                                        class="btn btn-sm btn-info"
                                                                                        data-action="select"
                                                                                        data-toggle="tooltip"
                                                                                        data-placement="top"
                                                                                        title="Pilih">
                                                                                        <i class="bi bi-plus-lg"></i>
                                                                                        <span
                                                                                            class="d-none d-sm-inline"></span>
                                                                                        <span
                                                                                            class="d-sm-none">Pilih</span>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                            <tr data-program-id="4"
                                                                                data-program-kode="#PR3"
                                                                                data-program-nama="Program-3"
                                                                                class="align-middle select-program">
                                                                                <td>#PR3</td>
                                                                                <td>Program-3</td>
                                                                                <td class="text-center">
                                                                                    <button type="button"
                                                                                        class="btn btn-sm btn-info"
                                                                                        data-action="select"
                                                                                        data-toggle="tooltip"
                                                                                        data-placement="top"
                                                                                        title="Pilih">
                                                                                        <i class="bi bi-plus-lg"></i>
                                                                                        <span
                                                                                            class="d-none d-sm-inline"></span>
                                                                                        <span
                                                                                            class="d-sm-none">Pilih</span>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                            <tr data-program-id="5"
                                                                                data-program-kode="PROGRAM-KGT-5"
                                                                                data-program-nama="PROGRAM FOR KEGIATAN 5"
                                                                                class="align-middle select-program">
                                                                                <td>PROGRAM-KGT-5</td>
                                                                                <td>PROGRAM FOR KEGIATAN 5</td>
                                                                                <td class="text-center">
                                                                                    <button type="button"
                                                                                        class="btn btn-sm btn-info"
                                                                                        data-action="select"
                                                                                        data-toggle="tooltip"
                                                                                        data-placement="top"
                                                                                        title="Pilih">
                                                                                        <i class="bi bi-plus-lg"></i>
                                                                                        <span
                                                                                            class="d-none d-sm-inline"></span>
                                                                                        <span
                                                                                            class="d-sm-none">Pilih</span>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                            <tr data-program-id="6"
                                                                                data-program-kode="#PR-05"
                                                                                data-program-nama="Program Nomor 5"
                                                                                class="align-middle select-program">
                                                                                <td>#PR-05</td>
                                                                                <td>Program Nomor 5</td>
                                                                                <td class="text-center">
                                                                                    <button type="button"
                                                                                        class="btn btn-sm btn-info"
                                                                                        data-action="select"
                                                                                        data-toggle="tooltip"
                                                                                        data-placement="top"
                                                                                        title="Pilih">
                                                                                        <i class="bi bi-plus-lg"></i>
                                                                                        <span
                                                                                            class="d-none d-sm-inline"></span>
                                                                                        <span
                                                                                            class="d-sm-none">Pilih</span>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                            <tr data-program-id="7"
                                                                                data-program-kode="LARAVEL"
                                                                                data-program-nama="LARAVEL"
                                                                                class="align-middle select-program">
                                                                                <td>LARAVEL</td>
                                                                                <td>LARAVEL</td>
                                                                                <td class="text-center">
                                                                                    <button type="button"
                                                                                        class="btn btn-sm btn-info"
                                                                                        data-action="select"
                                                                                        data-toggle="tooltip"
                                                                                        data-placement="top"
                                                                                        title="Pilih">
                                                                                        <i class="bi bi-plus-lg"></i>
                                                                                        <span
                                                                                            class="d-none d-sm-inline"></span>
                                                                                        <span
                                                                                            class="d-sm-none">Pilih</span>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                            <tr data-program-id="8"
                                                                                data-program-kode="#666666"
                                                                                data-program-nama="PROGRAM#66666666"
                                                                                class="align-middle select-program">
                                                                                <td>#666666</td>
                                                                                <td>PROGRAM#66666666</td>
                                                                                <td class="text-center">
                                                                                    <button type="button"
                                                                                        class="btn btn-sm btn-info"
                                                                                        data-action="select"
                                                                                        data-toggle="tooltip"
                                                                                        data-placement="top"
                                                                                        title="Pilih">
                                                                                        <i class="bi bi-plus-lg"></i>
                                                                                        <span
                                                                                            class="d-none d-sm-inline"></span>
                                                                                        <span
                                                                                            class="d-sm-none">Pilih</span>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary"
                                                                    data-dismiss="modal">Tutup</button>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Modal Daftar Kegiatan Based on Selected Program-->
                                                <div class="modal fade" id="ModalDaftarProgramActivity"
                                                    data-backdrop="static" tabindex="-1" role="dialog"
                                                    aria-labelledby="TitleModalDaftarProgramActivity" theme="info">
                                                    <div class="modal-dialog modal-dialog-scrollable modal-xl"
                                                        role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header bg-info">
                                                                <h5 class="modal-title"
                                                                    id="TitleModalDaftarProgramActivity">
                                                                    <i class="bi bi-person-plus"></i>
                                                                    Daftar Kegiatan
                                                                </h5>
                                                                <button type="button" class="close"
                                                                    data-bs-dismiss="modal" data-dismiss="modal"
                                                                    aria-label="Tutup">
                                                                    <span>&times;</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="table-responsive">
                                                                    <table class="table table-bordered table-striped"
                                                                        id="list_program_out_activity">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Kode Kegiatan</th>
                                                                                <th>Nama Kegiatan</th>
                                                                                <th>Deskripsi Kegiatan</th>
                                                                                <th>Indikator Kegiatan</th>
                                                                                <th>Target Kegiatan</th>
                                                                                <th>Opsi</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="data-program-kegiatan">

                                                                            <tr>
                                                                                <td>Memuat</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary"
                                                                    data-dismiss="modal">Tutup</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                            <div class="tab-pane fade" id="description-tab" role="tabpanel"
                                                aria-labelledby="custom-tabs-four-profile-tab">
                                                <!-- deskripsi kegiatan -->
                                                <div class="form-group row">
                                                    <div class="col-sm col-md col-lg self-center">
                                                        <label for="deskripsilatarbelakang" class="input-group">
                                                            Latar Belakang Kegiatan
                                                            <i class="fas fa-info-circle text-success"
                                                                data-toggle="tooltip"
                                                                title="Apa yang menjadi latar belakang kegiatan ini ?"></i>
                                                        </label>
                                                        <textarea name="deskripsilatarbelakang"
                                                            id="deskripsilatarbelakang"
                                                            placeholder=" Apa yang menjadi latar belakang kegiatan ini ?"
                                                            class="form-control summernote" rows="2"></textarea>
                                                    </div>
                                                </div>
                                                <!-- tujuan kegiatan -->
                                                <div class="form-group row">
                                                    <div class="col-sm col-md col-lg self-center">
                                                        <label for="deskripsitujuan" class="mb-0 input-group">
                                                            Apa Tujuan Kegiatan ?
                                                            <i class="fas fa-info-circle text-success"
                                                                data-toggle="tooltip"
                                                                title="Tolong tuliskan tujuan kegiatan, bisa mengacu dari ToR kegiatan!"></i>
                                                        </label>
                                                        <textarea name="deskripsitujuan" id="deskripsitujuan"
                                                            placeholder=" Tolong tuliskan tujuan kegiatan, bisa mengacu dari ToR kegiatan!"
                                                            class="form-control summernote" rows="2"></textarea>
                                                    </div>
                                                </div>
                                                <!-- siapa deskripsi keluaran kegiatan -->
                                                <div class="form-group row">
                                                    <div class="col-sm col-md col-lg self-center">
                                                        <label for="deskripsikeluaran" class="mb-0 input-group">
                                                            Deskripsi Keluaran
                                                            <i class="fas fa-info-circle text-success"
                                                                data-toggle="tooltip"
                                                                title="Tolong tuliskan keluaran kegiatan, bisa mengacu dari ToR kegiatan"></i>
                                                        </label>

                                                        <textarea name="deskripsikeluaran" id="deskripsikeluaran"
                                                            placeholder=" Tolong tuliskan keluaran kegiatan, bisa mengacu dari ToR kegiatan"
                                                            class="form-control summernote" rows="2"></textarea>
                                                    </div>
                                                </div>
                                                <!-- Peserta yang terlibat -->
                                                <div class="form-group row mb-0">
                                                    <div class="col-sm col-md col-lg self-center">
                                                        <label class="mb-0 self-center input-group">
                                                            Peserta Yang Terlibat
                                                            <i class="fas fa-info-circle text-success"
                                                                data-toggle="tooltip"
                                                                title="Lengkapi 2 tabel dibawah sebagai rekapitulasi penerima manfaat/peserta kegiatan, silahkan mengacu ke form absensi"></i>
                                                        </label>
                                                    </div>
                                                </div>

                                                <!-- jumlah peserta kegiatan -->
                                                <div class="form-group row">
                                                    <div class="col-sm col-md col-lg self-center">
                                                        <div class="card-body table-responsive p-0">
                                                            <table id="peserta_kegiatan_summary"
                                                                class="table table-sm table-borderless table-info mb-0 table-custom"
                                                                width="100%">
                                                                <thead style="background-color: #11bd7e !important">
                                                                    <tr class="align-middle text-center text-nowrap">
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Penerima Manfaat</th>
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Perempuan</th>
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Laki-laki</th>
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Total Penerima</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <!--dewasa row-->
                                                                    <tr>
                                                                        <td class="pl-1">
                                                                            <label class="text-sm">Dewasa (Umur 25 - 59
                                                                                tahun)</label>
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatdewasaperempuan"
                                                                                name="penerimamanfaatdewasaperempuan"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatdewasalakilaki"
                                                                                name="penerimamanfaatdewasalakilaki"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1 pr-1">
                                                                            <input type="number" readonly
                                                                                id="penerimamanfaatdewasatotal"
                                                                                name="penerimamanfaatdewasatotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm">
                                                                        </td>
                                                                    </tr>
                                                                    <!--lansia row-->
                                                                    <tr>
                                                                        <td class="pl-1">
                                                                            <label class="text-sm">Lansia (Umur &gt; 60
                                                                                tahun keatas, berdasarkan data Perpres
                                                                                88 Tahun 2021)</label>
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatlansiaperempuan"
                                                                                name="penerimamanfaatlansiaperempuan"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatlansialakilaki"
                                                                                name="penerimamanfaatlansialakilaki"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1 pr-1">
                                                                            <input type="number" readonly
                                                                                id="penerimamanfaatlansiatotal"
                                                                                name="penerimamanfaatlansiatotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm">
                                                                        </td>
                                                                    </tr>
                                                                    <!--remaja row-->
                                                                    <tr>
                                                                        <td class="pl-1">
                                                                            <label class="text-sm">Remaja (Umur 18 - 24
                                                                                tahun, berdasarkan BKKBN dengan
                                                                                penyusaian)</label>
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatremajaperempuan"
                                                                                name="penerimamanfaatremajaperempuan"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatremajalakilaki"
                                                                                name="penerimamanfaatremajalakilaki"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1 pr-1">
                                                                            <input type="number" readonly
                                                                                id="penerimamanfaatremajatotal"
                                                                                name="penerimamanfaatremajatotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm">
                                                                        </td>
                                                                    </tr>
                                                                    <!--anak-anak row-->
                                                                    <tr>
                                                                        <td class="pl-1">
                                                                            <label class="text-sm">Anak (Umur &lt;18
                                                                                tahun kebawah, berdasarkan rekomendasi
                                                                                SCI)</label>
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatanakperempuan"
                                                                                name="penerimamanfaatanakperempuan"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatanaklakilaki"
                                                                                name="penerimamanfaatanaklakilaki"
                                                                                class="calculate form-control-border border-width-2 form-control form-control-sm"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td class="pl-1 pr-1">
                                                                            <input type="number" readonly
                                                                                id="penerimamanfaatanaktotal"
                                                                                name="penerimamanfaatanaktotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm">
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="align-middle text-center text-nowrap">
                                                                        <th class="pl-1 text-left">Total Penerima</th>
                                                                        <th class="pl-1">
                                                                            <input type="number" readonly
                                                                                id="penerimamanfaatperempuantotal"
                                                                                name="penerimamanfaatperempuantotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm">
                                                                        </th>
                                                                        <th class="pl-1">
                                                                            <input type="number" readonly
                                                                                id="penerimamanfaatlakilakitotal"
                                                                                name="penerimamanfaatlakilakitotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm">
                                                                        </th>
                                                                        <th class="pl-1 pr-1">
                                                                            <input type="number" readonly
                                                                                id="penerimamanfaattotal"
                                                                                name="penerimamanfaattotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm">
                                                                        </th>
                                                                    </tr>
                                                                </tbody>
                                                                <tfoot class="pl-1 pr-1">
                                                                </tfoot>
                                                            </table>
                                                        </div>

                                                    </div>
                                                </div>




                                                <div class="form-group row mb-0">
                                                    <div class="col-sm col-md col-lg self-center">
                                                        <div class="card-body table-responsive p-0">
                                                            <table id="penerima_manfaat_difabel"
                                                                class="table table-sm table-borderless table-warning mb-0 table-custom"
                                                                width="100%">
                                                                <thead style="background-color: #6111bd !important">
                                                                    <tr class="align-middle text-center text-nowrap">
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Penerima Manfaat</th>
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Perempuan</th>
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Laki-laki</th>
                                                                        <th
                                                                            class="align-middle text-white fw-normal text-sm px-2 py-1 py-2 border-start border-secondary">
                                                                            Total Penerima</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <!--disabilitas row-->
                                                                    <tr>
                                                                        <td colspan="1" width="30%" class="pl-1">
                                                                            <label class="text-sm">Disabilitas</label>
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatdisabilitasperempuan"
                                                                                name="penerimamanfaatdisabilitasperempuan"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="text"
                                                                                id="penerimamanfaatdisabilitaslakilaki"
                                                                                name="penerimamanfaatdisabilitaslakilaki"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1 pr-1">
                                                                            <input type="text"
                                                                                id="penerimamanfaatdisabilitastotal"
                                                                                name="penerimamanfaatdisabilitastotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm"
                                                                                readonly>
                                                                        </td>
                                                                    </tr>
                                                                    <!--non_disabilitas row-->
                                                                    <tr>
                                                                        <td colspan="1" width="30%" class="pl-1">
                                                                            <label
                                                                                class="text-sm">Non-Disabilitas</label>
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatnondisabilitasperempuan"
                                                                                name="penerimamanfaatnondisabilitasperempuan"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="text"
                                                                                id="penerimamanfaatnondisabilitaslakilaki"
                                                                                name="penerimamanfaatnondisabilitaslakilaki"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1 pr-1">
                                                                            <input type="text"
                                                                                id="penerimamanfaatnondisabilitastotal"
                                                                                name="penerimamanfaatnondisabilitastotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm"
                                                                                readonly>
                                                                        </td>
                                                                    </tr>
                                                                    <!--marjinal row-->
                                                                    <tr>
                                                                        <td colspan="1" width="30%" class="pl-1">
                                                                            <label class="text-sm">Kelompok Marjinal
                                                                                Lainnya</label>
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="number"
                                                                                id="penerimamanfaatmarjinalperempuan"
                                                                                name="penerimamanfaatmarjinalperempuan"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="text"
                                                                                id="penerimamanfaatmarjinallakilaki"
                                                                                name="penerimamanfaatmarjinallakilaki"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1 pr-1">
                                                                            <input type="text"
                                                                                id="penerimamanfaatmarjinaltotal"
                                                                                name="penerimamanfaatmarjinaltotal"
                                                                                class="form-control-border border-width-2 form-control form-control-sm"
                                                                                readonly>
                                                                        </td>
                                                                    </tr>
                                                                    <!--total beneficiaries difabel-->
                                                                    <tr>
                                                                        <td colspan="1" width="30%" class="pl-1">
                                                                            <label class="text-sm">Total
                                                                                Penerima</label>
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="number"
                                                                                id="total_beneficiaries_perempuan"
                                                                                name="total_beneficiaries_perempuan"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                readonly placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1">
                                                                            <input type="text"
                                                                                id="total_beneficiaries_lakilaki"
                                                                                name="total_beneficiaries_lakilaki"
                                                                                class="form-control-border border-width-2 form-control form-control-sm hitung"
                                                                                readonly placeholder="0">
                                                                        </td>
                                                                        <td colspan="1" width="10%" class="pl-1 pr-1">
                                                                            <input type="text"
                                                                                id="beneficiaries_difable_total"
                                                                                name="beneficiaries_difable_total"
                                                                                class="form-control-border border-width-2 form-control form-control-sm"
                                                                                readonly>
                                                                        </td>
                                                                    </tr>

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                            <div class="tab-pane fade" id="tab-hasil" role="tabpanel"
                                                aria-labelledby="tab-hasil">
                                                <div id="dynamic-form-container"></div>
                                            </div>

                                            <div class="tab-pane fade" id="tab-file" role="tabpanel"
                                                aria-labelledby="tab-file">
                                                <div class="card-body pt-0">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label for="dokumen_pendukung" class="control-label mb-0">
                                                                <strong>
                                                                    Unggah File
                                                                </strong>
                                                                <span class="text-red">

                                                                    ( allowed file: .pdf, .doc, .docx, .xls, .xlsx,
                                                                    .pptx | max: 4MB )
                                                                </span>
                                                            </label>
                                                            <div class="form-group file-loading">
                                                                <input id="dokumen_pendukung" name="dokumen_pendukung[]"
                                                                    type="file" class="form-control" multiple
                                                                    data-show-upload="false" data-show-caption="true">
                                                            </div>
                                                            <div id="captions-container-docs"></div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="card-body pt-0">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label for="media_pendukung" class="control-label mb-0">
                                                                <strong>
                                                                    Unggah Media Gambar/Video
                                                                </strong>
                                                                <span class="text-red">

                                                                    ( allowed file: .jpg, .png, .jpeg, .mp4, .mkv | max:
                                                                    10 MB )
                                                                </span>
                                                            </label>
                                                            <div class="form-group file-loading">
                                                                <input id="media_pendukung" name="media_pendukung[]"
                                                                    type="file" class="form-control" multiple
                                                                    data-show-upload="false" data-show-caption="true">
                                                            </div>
                                                            <div id="captions-container-media"></div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="tab-pane fade" id="tab-penulis" role="tabpanel"
                                                aria-labelledby="tab-penulis">
                                                <!-- Penulis Laporan Kegiatan-->
                                                <div class="form-group row tambah_penulis col" id="PenulisContainer">
                                                    <button type="button" class="btn btn-success float-right"
                                                        title="Tambah Penulis Laporan" id="addPenulis">
                                                        <i class="bi bi-folder-plus"></i> Tambah Penulis Laporan
                                                    </button>
                                                </div>

                                                <div class="form-group row" id="list_penulis">
                                                    <div class="col-12">
                                                    </div>
                                                </div>
                                                <div class="form-group row" id="list_penulis">

                                                </div>

                                                <div class="form-group row col-md-12" id="list_penulis_edit">
                                                </div>
                                                <!-- End Penulis Laporan Kegiatan-->

                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <div class="button" id="task_flyout">
                                            <button type="button" id="clearStorageButton"
                                                class="btn btn-warning float-left">Reset</button>
                                            <button type="button" id="next-button"
                                                class="btn btn-primary float-right">Next</button>
                                        </div>
                                    </div>

                                </div>
                            </div>




                        </div>




                    </form>

                </div>
            </div>

        </div>


        <footer class="main-footer">
            <div class="float-right">Version: 1.0.0</div>
            <strong>Copyright &copy; 2014 - 2025
                <a href="/">IDEP Foundation</a>
            </strong>. All rights reserved.
        </footer>

    </div>

    <script src="https://sistem-informasi-idep.dev/vendor/jquery/jquery.min.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script
        src="https://sistem-informasi-idep.dev/vendor/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/adminlte/dist/js/adminlte.min.js" defer></script>


    <script src="https://sistem-informasi-idep.dev/vendor/datatables-new/datatables.min.js"></script>

    <script src="https://sistem-informasi-idep.dev/vendor/datatables-new/pdfmake.min.js"></script>

    <script src="https://sistem-informasi-idep.dev/vendor/datatables-new/vfs_fonts.js"></script>





    <script src="https://sistem-informasi-idep.dev/vendor/jquery-validation/jquery.validate.min.js"></script>

    <script src="https://sistem-informasi-idep.dev/vendor/jquery-validation/additional-methods.min.js" defer></script>


    <script src="https://sistem-informasi-idep.dev/vendor/select2/js/select2.min.js"></script>







    <script src="https://sistem-informasi-idep.dev/vendor/sweetalert2/latest.js"></script>





    <script src="https://sistem-informasi-idep.dev/vendor/summernote/summernote-bs4.min.js"></script>






    <script src="https://sistem-informasi-idep.dev/vendor/toastr/toastr.min.js" defer></script>








    <script src="https://sistem-informasi-idep.dev/vendor/inputmask/jquery.maskMoney.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/inputmask/AutoNumeric.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/krajee-fileinput/js/plugins/buffer.min.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/krajee-fileinput/js/plugins/sortable.min.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/krajee-fileinput/js/plugins/piexif.min.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/krajee-fileinput/js/fileinput.min.js"></script>
    <script src="https://sistem-informasi-idep.dev/vendor/krajee-fileinput/js/locales/id.js"></script>




    <!-- javascript to create kegiatan first -->
    <script>
        function handleErrors(response) {
            let errorMessage = response.message;
            if (response.status === 400) {
                try {
                    const errors = response.errors;
                    errorMessage = formatErrorMessages(errors);
                } catch (error) {
                    errorMessage = "<p>An unexpected error occurred. Please try again later.</p>";
                }
            }
            Swal.fire({
                title: "Error!",
                html: errorMessage,
                icon: "error"
            });
        }

        function formatErrorMessages(errors) {
            let message = '<br><ul style="text-align:left!important">';
            for (const field in errors) {
                errors[ field ].forEach(function (error) {
                    message += `<li>${error}</li>`;
                });
            }
            message += '</ul>';
            return message;
        }

        function getErrorMessage(xhr) {
            let message;
            try {
                const response = JSON.parse(xhr.responseText);
                message = response.message || 'An unexpected error occurred. Please try again later.';
            } catch (e) {
                message = 'An unexpected error occurred. Please try again later.';
            }
            return message;
        }

        function addInvalidClassToFields(errors) {
            for (const field in errors) {
                if (errors.hasOwnProperty(field)) {
                    errors[ field ].forEach(function (error) {
                        const inputField = $(`[name="${field}"]`);
                        if (inputField.length) {
                            inputField.addClass('is-invalid');
                            if (inputField.next('.invalid-feedback').length === 0) {
                                inputField.after(`<div class="invalid-feedback">${error}</div>`);
                            }
                        }
                    });
                }
            }

            // Attach an event listener to remove the invalid class and message on input change
            $('input, textarea, select').on('input change', function () {
                $(this).removeClass('is-invalid');
                $(this).next('.invalid-feedback').remove();
            });
        }
    </script>
    <!-- Script for Input Summernote -->
    <script>
        $(document).ready(function () {
            $('.summernote').each(function () {
                if (!$(this).data('initialized')) {
                    $(this).summernote({
                        height: 120,
                        width: '100%',
                        toolbar: [
                            [ 'font', [ 'bold', 'italic', 'underline', 'clear' ] ],
                            [ 'table', [ 'table' ] ],
                            [ 'color', [ 'color' ] ],
                            [ 'paragraph', [ 'paragraph' ] ],
                            [ 'view', [ 'fullscreen', 'codeview' ] ],
                        ],
                        inheritPlaceholder: true,
                        tabDisable: true,
                        codeviewFilter: false,
                    });
                    $(this).data('initialized', true); // Mark this textarea as initialized
                }
            });
        });
    </script>
    <!-- Script for Kegiatan Peserta -->
    <script>
        // Function to save form data to localStorage
        function saveFormDataToStorage() {
            var formData = {
                program_id: $('#program_id').val(),
                program_kode: $('#program_kode').val(),
                kode_kegiatan: $('#kode_kegiatan').val(),
                nama_kegiatan: $('#nama_kegiatan').val(),
                nama_desa: $('#nama_desa').val(),
                lokasi: $('#lokasi').val(),
                lat: $('#lat').val(),
                longitude: $('#longitude').val(),
                tanggalmulai: $('#tanggalmulai').val(),
                tanggalselesai: $('#tanggalselesai').val(),
                nama_mitra: $('#nama_mitra').val(),
                status: $('#status').val(),
                fasepelaporan: $('#fasepelaporan').val(),

                sektor_kegiatan: $('#sektor_kegiatan').val(),




                deskripsi_kegiatan: $('#deskripsi_kegiatan').val(),
                tujuan_kegiatan: $('#tujuan_kegiatan').val(),
                yang_terlibat: $('#yang_terlibat').val(),
                pelatih_asal: $('#pelatih_asal').val(),
                kegiatan: $('#kegiatan').val(),
                informasi_lain: $('#informasi_lain').val(),
                luas_lahan: $('#luas_lahan').val(),
                barang: $('#barang').val(),
                satuan: $('#satuan').val(),
                others: $('#others').val(),

            };

            // Include Summernote content
            $('.summernote').each(function () {
                const id = $(this).attr('id');
                formData[ id ] = $(this).summernote('isEmpty') ? '' : $(this).summernote('code');
            });

            // Include select2 selected values
            $('.select2').each(function () {
                const id = $(this).attr('id');
                formData[ id ] = $(this).val(); // Store the selected value(s)
            });

            // Save form data to localStorage
            localStorage.setItem('kegiatanFormData', JSON.stringify(formData));
        }

        // Function to initialize Select2 with dynamic URL
        function initializeSelect2WithDynamicUrl(fieldId) {
            var select2Field = $('#' + fieldId);
            var apiUrl = select2Field.data('api-url');

            select2Field.select2({
                width: '100%',
                placeholder: select2Field.attr('placeholder'),
                allowClear: true,
                ajax: {
                    url: apiUrl,
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            search: params.term,
                            page: params.page || 1
                        };
                    },
                    processResults: function (data, params) {
                        params.page = params.page || 1;

                        return {
                            results: data.data.map(function (item) {
                                return {
                                    id: item.id,
                                    text: item.nama
                                };
                            }),
                            pagination: {
                                more: data.current_page < data.last_page
                            }
                        };
                    },
                    cache: true
                },
                minimumInputLength: 0
            });
        }

        function loadFormDataFromStorage() {
            var storedData = localStorage.getItem('kegiatanFormData');
            if (storedData) {
                var formData = JSON.parse(storedData);

                // Populate basic form fields
                $('#program_id').val(formData.program_id || '');
                $('#program_kode').val(formData.program_kode || '');
                $('#kode_kegiatan').val(formData.kode_kegiatan || '');
                $('#nama_kegiatan').val(formData.nama_kegiatan || '');
                $('#nama_desa').val(formData.nama_desa || '');
                $('#lokasi').val(formData.lokasi || '');
                $('#lat').val(formData.lat || '');
                $('#longitude').val(formData.longitude || '');
                $('#tanggalmulai').val(formData.tanggalmulai || '');
                $('#tanggalselesai').val(formData.tanggalselesai || '');
                $('#status').val(formData.status || '');
                $('#fasepelaporan').val(formData.fasepelaporan || '');

                $('#deskripsi_kegiatan').val(formData.deskripsi_kegiatan || '');
                $('#tujuan_kegiatan').val(formData.tujuan_kegiatan || '');
                $('#yang_terlibat').val(formData.yang_terlibat || '');
                $('#pelatih_asal').val(formData.pelatih_asal || '');
                $('#kegiatan').val(formData.kegiatan || '');
                $('#informasi_lain').val(formData.informasi_lain || '');
                $('#luas_lahan').val(formData.luas_lahan || '');
                $('#barang').val(formData.barang || '');
                $('#satuan').val(formData.satuan || '');
                $('#others').val(formData.others || '');

                // Populate Summernote fields
                $('.summernote').each(function () {
                    const id = $(this).attr('id');
                    if (!id) {
                        console.error('Found Summernote element with undefined id:', this);
                        return;
                    }
                    const value = formData[ id ] || '';
                    $(this).summernote('code', value);
                });

                if (formData.jenis_kegiatan) {
                    var apiUrl = $('#jenis_kegiatan').data('api-url');
                    $.ajax({
                        url: apiUrl,
                        method: 'GET',
                        data: { id: formData.jenis_kegiatan },
                        success: function (response) {
                            if (response.data && response.data.length > 0) {
                                var item = response.data[ 0 ];
                                var newOption = new Option(item.nama, item.id, true, true);
                                $('#jenis_kegiatan')
                                    .append(newOption)
                                    .trigger('change');
                            }
                        }
                    });
                }
                var uniqueId = Date.now();
                // exclude some select2 field id attribute
                $('.select2').not('#jenis_kegiatan, #provinsi, #kabupaten, #kecamatan, #kelurahan, [id^="provinsi-"], [id^="kabupaten-"], [id^="kecamatan-"], [id^="kelurahan-"]').each(function () {
                    $
                    var fieldId = $(this).attr('id');
                    var values = formData[ fieldId ];
                    var select2Field = $(this);
                    var apiUrl = $(this).data('api-url');

                    if (values) {
                        // Handle both single value and array of values
                        var valueArray = Array.isArray(values) ? values : [ values ];

                        $.ajax({
                            url: apiUrl,
                            method: 'GET',
                            data: { id: valueArray },
                            success: function (data) {
                                // Clear existing options
                                select2Field.empty();

                                // Add options from API response
                                if (data.data && Array.isArray(data.data)) {
                                    data.data.forEach(function (item) {
                                        var newOption = new Option(item.nama, item.id, true, true);
                                        select2Field.append(newOption);
                                    });
                                }

                                // Initialize Select2
                                initializeSelect2WithDynamicUrl(fieldId);

                                // Set the values and trigger change
                                select2Field.val(valueArray).trigger('change');
                            },
                            error: function (error) {
                                console.error('Error fetching Select2 data:', error);
                                // Still initialize Select2 even if there's an error
                                initializeSelect2WithDynamicUrl(fieldId);
                            }
                        });
                    } else {
                        // Initialize Select2 even if no values are stored
                        initializeSelect2WithDynamicUrl(fieldId);
                    }
                });
            } else {
                // Initialize select2 fields even if there's no data in localStorage
                $('.select2').each(function () {
                    var fieldId = $(this).attr('id');
                    initializeSelect2WithDynamicUrl(fieldId);
                });
            }
        }

        $(document).ready(function () {
            loadParticipantsFromStorage();
            loadFormDataFromStorage();

            $('#createKegiatan').on('change', 'input, select, textarea', function () {
                saveFormDataToStorage();
            });

            // Specifically handle Select2 events
            $(document).on('select2:select select2:unselect', '.select2', function () {
                saveFormDataToStorage();
            });

            // Specifically handle Summernote changes
            $(document).on('summernote.change', '.summernote', function () {
                saveFormDataToStorage();
            });

            // Attach change event listeners to input, select, date, select2, and summernote fields
            $('#createKegiatan').on('change', 'input, select, textarea, .select2, .summernote', function () {
                saveFormDataToStorage();
                // this works
            });

            // Additionally, capture changes from select2 and summernote
            $('.select2').on('select2:select select2:unselect', function () {
                saveFormDataToStorage();
            });
            $('.summernote').on('summernote.change', function () {
                saveFormDataToStorage();
            });

            $('#saveModalData').click(function () {
                // Collect form values (existing code remains the same)
                var identitas = $('#identitas').val() || '';
                var nama = $('#nama').val() || '';

                // Jenis Kelamin mapping
                var jenis_kelamin = $('#jenis_kelamin').val();
                var jenis_kelamin_label = {
                    'pria': 'Laki-laki'
                    , 'wanita': 'Perempuan'
                }[ jenis_kelamin ] || 'Tidak Diketahui';

                var tanggal_lahir = $('#tanggal_lahir').val() ? formatDate($('#tanggal_lahir').val()) : '';

                // Disabilitas dan Hamil (sesuai sebelumnya)
                var disabilitasValue = $('#disabilitas').val();
                var disabilitasIcon = disabilitasValue === '1' ?
                    '<i class="bi bi-check-lg btn-success p-1 text-center self-center"></i>' :
                    '<i class="bi bi-x-lg btn-warning p-1 text-center self-center"></i>';

                var hamilValue = $('#hamil').val();
                var hamilIcon = hamilValue === '1' ?
                    '<i class="bi bi-check-lg btn-success p-1 text-center self-center"></i>' :
                    '<i class="bi bi-x-lg btn-warning p-1 text-center self-center"></i>';

                // Status Kawin mapping
                var status_kawin = $('#status_kawin').val();
                var status_kawin_label = {
                    'belum_menikah': 'Belum Menikah'
                    , 'menikah': 'Menikah'
                    , 'cerai': 'Cerai'
                    , 'cerai_mati': 'Cerai Mati'
                }[ status_kawin ] || 'Tidak Diketahui';

                var no_kk = $('#no_kk').val() || '';
                var jenis_peserta = $('#jenis_peserta').val() || '';
                var nama_kk = $('#nama_kk').val() || '';

                // Get the current number of rows to determine the next row number
                var rowCount = $('#list_peserta_kegiatan tbody tr').length + 1;

                // Create new table row with collected values
                var newRow = `
                <tr data-identitas="${identitas}" data-jenis-kelamin="${jenis_kelamin}" data-status-kawin="${status_kawin}" data-no-kk="${no_kk}" data-disabilitas="${disabilitasValue}" data-hamil="${hamilValue}">
                    <td class="text-center self-center text-nowrap py-2 rounded-start-3">${rowCount}</td>
                    <td class="text-nowrap py-2 border-start text-start">${identitas}</td>
                    <td class="text-nowrap py-2 border-start text-start">${nama}</td>
                    <td class="text-nowrap py-2 border-start text-start">${jenis_kelamin_label}</td>
                    <td class="text-nowrap py-2 border-start text-start">${tanggal_lahir}</td>
                    <td class="text-center self-center" data-disabilitas="${disabilitasValue}">
                        ${disabilitasIcon}
                    </td>
                    <td class="text-center self-center" data-hamil="${hamilValue}">
                        ${hamilIcon}
                    </td>
                    <td class="text-center text-nowrap py-2 border-start text-start">${status_kawin_label}</td>
                    <td class="bg-silver text-nowrap py-2 border-start text-start">${no_kk}</td>
                    <td class="text-center text-nowrap py-2 border-start text-start">${jenis_peserta}</td>
                    <td class="bg-silver text-nowrap py-2 px-4 border-start">${nama_kk}</td>
                    <td class="text-center text-nowrap py-0 border-start rounded-end-3">
                        <div class="button-container pt-1 self-center">
                            <button class="btn btn-sm btn-info edit-row"><i class="bi bi-pencil-square"></i></button>
                            <button class="btn btn-sm btn-danger delete-row"><i class="bi bi-trash-fill"></i></button>
                        </div>
                    </td>
                </tr>`;

                // Append the new row to the table body
                $('#tableBody').append(newRow);

                // Save participants to localStorage
                saveParticipantsToStorage();

                // Clear form inputs
                $('#identitas').val('');
                $('#nama').val('');
                $('#jenis_kelamin').val('pria');
                $('#tanggal_lahir').val('');
                $('#disabilitas').val('0');
                $('#hamil').val('0');
                $('#status_kawin').val('belum_menikah');
                $('#no_kk').val('');
                $('#jenis_peserta').val('');
                $('#nama_kk').val('');

                // Close the modal
                $('#ModalTambahPeserta').modal('hide');
                saveFormDataToStorage();
            });

            // Delete row functionality
            $(document).on('click', '.delete-row', function () {
                $(this).closest('tr').remove();
                // Renumber the rows
                $('#list_peserta_kegiatan tbody tr').each(function (index) {
                    $(this).find('td:first').text(index + 1);
                });

                // Update localStorage after deletion
                saveParticipantsToStorage();
            });

            // Update edit functionality to match new structure
            $(document).on('click', '.edit-row', function () {
                var row = $(this).closest('tr');

                // Populate modal with row data
                $('#identitas').val(row.data('identitas'));
                $('#nama').val(row.find('td:eq(2)').text());
                $('#jenis_kelamin').val(row.data('jenis-kelamin'));

                // Convert formatted date back to input date format
                var formattedDate = row.find('td:eq(4)').text();
                var parsedDate = parseFormattedDate(formattedDate);
                $('#tanggal_lahir').val(parsedDate);

                // Set disabilitas and hamil values
                $('#disabilitas').val(row.data('disabilitas'));
                $('#hamil').val(row.data('hamil'));

                $('#status_kawin').val(row.data('status-kawin'));
                $('#no_kk').val(row.data('no-kk'));
                $('#jenis_peserta').val(row.find('td:eq(9)').text());
                $('#nama_kk').val(row.find('td:eq(10)').text());

                // Open the modal
                $('#ModalTambahPeserta').modal('show');

                // Remove the original row
                row.remove();

                // Renumber the rows
                $('#list_peserta_kegiatan tbody tr').each(function (index) {
                    $(this).find('td:first').text(index + 1);
                });

                // Update localStorage after editing
                saveParticipantsToStorage();
            });

            // Function to save participants to localStorage
            function saveParticipantsToStorage() {
                var participants = [];
                $('#list_peserta_kegiatan tbody tr').each(function () {
                    participants.push({
                        identitas: $(this).data('identitas')
                        , nama: $(this).find('td:eq(2)').text()
                        , jenis_kelamin: $(this).data('jenis-kelamin')
                        , tanggal_lahir: $(this).find('td:eq(4)').text()
                        , disabilitas: $(this).data('disabilitas')
                        , hamil: $(this).data('hamil')
                        , status_kawin: $(this).data('status-kawin')
                        , no_kk: $(this).data('no-kk')
                        , jenis_peserta: $(this).find('td:eq(9)').text()
                        , nama_kk: $(this).find('td:eq(10)').text()
                    });
                });

                localStorage.setItem('participantsData', JSON.stringify(participants));
            }

            // Function to load participants from localStorage
            function loadParticipantsFromStorage() {
                var savedParticipants = localStorage.getItem('participantsData');
                if (savedParticipants) {
                    var participants = JSON.parse(savedParticipants);

                    // Clear existing table body
                    $('#tableBody').empty();

                    // Recreate rows from saved data
                    participants.forEach(function (participant, index) {
                        var jenis_kelamin_label = {
                            'pria': 'Laki-laki'
                            , 'wanita': 'Perempuan'
                        }[ participant.jenis_kelamin ] || 'Tidak Diketahui';

                        var disabilitasIcon = participant.disabilitas === '1' ?
                            '<i class="bi bi-check-lg btn-success p-1 text-center self-center"></i>' :
                            '<i class="bi bi-x-lg btn-warning p-1 text-center self-center"></i>';

                        var hamilIcon = participant.hamil === '1' ?
                            '<i class="bi bi-check-lg btn-success p-1 text-center self-center"></i>' :
                            '<i class="bi bi-x-lg btn-warning p-1 text-center self-center"></i>';

                        var status_kawin_label = {
                            'belum_menikah': 'Belum Menikah'
                            , 'menikah': 'Menikah'
                            , 'cerai': 'Cerai'
                            , 'cerai_mati': 'Cerai Mati'
                        }[ participant.status_kawin ] || 'Tidak Diketahui';

                        var newRow = `
                    <tr data-identitas="${participant.identitas}" data-jenis-kelamin="${participant.jenis_kelamin}" data-status-kawin="${participant.status_kawin}" data-no-kk="${participant.no_kk}" data-disabilitas="${participant.disabilitas}" data-hamil="${participant.hamil}">
                        <td class="text-center self-center text-nowrap py-2 rounded-start-3">${index + 1}</td>
                        <td class="text-nowrap py-2 border-start text-start">${participant.identitas}</td>
                        <td class="text-nowrap py-2 border-start text-start">${participant.nama}</td>
                        <td class="text-nowrap py-2 border-start text-start">${jenis_kelamin_label}</td>
                        <td class="text-nowrap py-2 border-start text-start">${participant.tanggal_lahir}</td>
                        <td class="text-center self-center" data-disabilitas="${participant.disabilitas}">
                            ${disabilitasIcon}
                        </td>
                        <td class="text-center self-center" data-hamil="${participant.hamil}">
                            ${hamilIcon}
                        </td>
                        <td class="text-center text-nowrap py-2 border-start text-start">${status_kawin_label}</td>
                        <td class="bg-silver text-nowrap py-2 border-start text-start">${participant.no_kk}</td>
                        <td class="text-center text-nowrap py-2 border-start text-start">${participant.jenis_peserta}</td>
                        <td class="bg-silver text-nowrap py-2 px-4 border-start">${participant.nama_kk}</td>
                        <td class="text-center text-nowrap py-0 border-start rounded-end-3">
                            <div class="button-container pt-1 self-center">
                                <button class="btn btn-sm btn-info edit-row"><i class="bi bi-pencil-square"></i></button>
                                <button class="btn btn-sm btn-danger delete-row"><i class="bi bi-trash-fill"></i></button>
                            </div>
                        </td>
                    </tr>`;

                        $('#tableBody').append(newRow);
                    });
                }
            }

            // Function to clear localStorage (optional, can be added to a clear/reset button)
            function clearParticipantsStorage() {
                localStorage.removeItem('participantsData');
                $('#tableBody').empty();
            }

            // Existing formatDate and parseFormattedDate functions remain the same
            function parseFormattedDate(formattedDate) {
                const months = {
                    'Januari': '01',
                    'Februari': '02',
                    'Maret': '03',
                    'April': '04',
                    'Mei': '05',
                    'Juni': '06',
                    'Juli': '07',
                    'Agustus': '08',
                    'September': '09',
                    'Oktober': '10',
                    'November': '11',
                    'Desember': '12',
                };

                const parts = formattedDate.split(' ');
                const day = parts[ 0 ].padStart(2, '0');
                const month = months[ parts[ 1 ] ];
                const year = parts[ 2 ];

                return `${year}-${month}-${day}`;
            }

            function formatDate(dateString) {
                const months = [
                    'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember',
                ];

                const date = new Date(dateString);
                const day = date.getDate();
                const month = months[ date.getMonth() ];
                const year = date.getFullYear();

                return `${day} ${month} ${year}`;
            }

            function clearStoredFormData() {
                localStorage.removeItem('pesertaFormData');
                localStorage.removeItem('participantsData');
                localStorage.removeItem('kegiatanFormData');
                localStorage.removeItem('KegiatanLokasi');

                // Reset the form and clear Summernote content
                $('#createKegiatan')[ 0 ].reset();
                $('#tableBody').empty();

                // Clear Summernote content
                $('.summernote').each(function () {
                    $(this).summernote('reset');
                    // console.info($(this), 'summernote removed')
                });
                $('.select2').val(null).trigger('change');
            }

            // Optional: Add a clear button or method to reset stored data
            $('#clearStorageButton').on('click', function () {
                clearStoredFormData();
                $('#createKegiatan').each(function () {
                    inputFields = $(this).find('input, select, textarea').removeAttr('disabled');
                    inputFields.each(function () {
                        $(this).val('');
                    });
                });
            });
        });
    </script>

    <!-- Script for description.blade.php -->
    <script>
        $(document).ready(function () {
            function calculateTotals() {
                // Calculate row totals and update respective fields
                $('tr').each(function () {
                    let pria = parseInt($(this).find('input[id$="lakilaki"]').val()) || 0;
                    let wanita = parseInt($(this).find('input[id$="perempuan"]').val()) || 0;
                    let total = pria + wanita;
                    $(this).find('input[id$="total"]').val(total);
                });

                // Calculate overall totals
                let totalPerempuan = 0;
                let totalLakilaki = 0;
                let totalAll = 0;

                totalPerempuan += parseInt($('#penerimamanfaatdewasaperempuan').val()) || 0;
                totalPerempuan += parseInt($('#penerimamanfaatlansiaperempuan').val()) || 0;
                totalPerempuan += parseInt($('#penerimamanfaatremajaperempuan').val()) || 0;
                totalPerempuan += parseInt($('#penerimamanfaatanakperempuan').val()) || 0;

                totalLakilaki += parseInt($('#penerimamanfaatdewasalakilaki').val()) || 0;
                totalLakilaki += parseInt($('#penerimamanfaatlansialakilaki').val()) || 0;
                totalLakilaki += parseInt($('#penerimamanfaatremajalakilaki').val()) || 0;
                totalLakilaki += parseInt($('#penerimamanfaatanaklakilaki').val()) || 0;

                totalAll += parseInt($('#penerimamanfaatdewasatotal').val()) || 0;
                totalAll += parseInt($('#penerimamanfaatlansiatotal').val()) || 0;
                totalAll += parseInt($('#penerimamanfaatremajatotal').val()) || 0;
                totalAll += parseInt($('#penerimamanfaatanaktotal').val()) || 0;

                // Update overall total fields
                $('#penerimamanfaatperempuantotal').val(totalPerempuan);
                $('#penerimamanfaatlakilakitotal').val(totalLakilaki);
                $('#penerimamanfaattotal').val(totalAll);

                let totalBeneficiariesPerempuan = 0;
                let totalBeneficiariesLakilaki = 0;
                let totalBeneficiariesTotal = 0;

                totalBeneficiariesPerempuan += parseInt($('#penerimamanfaatdisabilitasperempuan').val()) || 0;
                totalBeneficiariesPerempuan += parseInt($('#penerimamanfaatnondisabilitasperempuan').val()) || 0;
                totalBeneficiariesPerempuan += parseInt($('#penerimamanfaatmarjinalperempuan').val()) || 0;

                totalBeneficiariesLakilaki += parseInt($('#penerimamanfaatdisabilitaslakilaki').val()) || 0;
                totalBeneficiariesLakilaki += parseInt($('#penerimamanfaatnondisabilitaslakilaki').val()) || 0;
                totalBeneficiariesLakilaki += parseInt($('#penerimamanfaatmarjinallakilaki').val()) || 0;

                totalBeneficiariesTotal += parseInt($('#penerimamanfaatdisabilitastotal').val()) || 0;
                totalBeneficiariesTotal += parseInt($('#penerimamanfaatnondisabilitastotal').val()) || 0;
                totalBeneficiariesTotal += parseInt($('#penerimamanfaatmarjinaltotal').val()) || 0;

                // Update overall total fields
                $('#total_beneficiaries_perempuan').val(totalBeneficiariesPerempuan);
                $('#total_beneficiaries_lakilaki').val(totalBeneficiariesLakilaki);
                $('#beneficiaries_difable_total').val(totalBeneficiariesTotal);

            }


            // Trigger calculateTotals on input change
            $('.calculate').on('input', function () {
                calculateTotals();
            });

            $('.hitung').on('input', function () {
                calculateTotals();
            });

            // Initial calculation
            calculateTotals();

            var table = $('#peserta_kegiatan_summary').DataTable({
                width: '100%',
                layout: {
                    topStart: null,
                    bottom: null,
                    bottomStart: null,
                    bottomEnd: null
                },
                searching: false,
                ordering: false, // 'sorting' should be 'ordering'
                columnDefs: [
                    {
                        searchable: false,
                        orderable: false,
                        targets: [ 0, 1, 2, 3 ]
                    },
                    { width: '40%', targets: 0 },
                    { width: '20%', targets: 1 },
                    { width: '20%', targets: 2 },
                    { width: '20%', targets: 3 }
                ]
            });
            // alert modal for data peserta
            $('#submit_peserta').on('click', function (e) {
                e.preventDefault();
                var data = table.$('input, select').serialize();
                console.log(data);
                // Parse serialized data
                var params = new URLSearchParams(data);
                var parsedData = {
                    dewasa: {
                        perempuan: params.get('penerimamanfaatdewasaperempuan'),
                        laki: params.get('penerimamanfaatdewasalakilaki'),
                        total: params.get('penerimamanfaatdewasatotal')
                    },
                    lansia: {
                        perempuan: params.get('penerimamanfaatlansiaperempuan'),
                        laki: params.get('penerimamanfaatlansialakilaki'),
                        total: params.get('penerimamanfaatlansiatotal')
                    },
                    remaja: {
                        perempuan: params.get('penerimamanfaatremajaperempuan'),
                        laki: params.get('penerimamanfaatremajalakilaki'),
                        total: params.get('penerimamanfaatremajatotal')
                    },
                    anak: {
                        perempuan: params.get('penerimamanfaatanakperempuan'),
                        laki: params.get('penerimamanfaatanaklakilaki'),
                        total: params.get('penerimamanfaatanaktotal')
                    },
                    total: {
                        perempuan: params.get('penerimamanfaatperempuantotal'),
                        laki: params.get('penerimamanfaatlakilakitotal'),
                        total: params.get('penerimamanfaattotal')
                    }
                };

                // Create SweetAlert content
                var htmlContent = `
            <table style="width:100%; text-align:left;" class="table-sm table-borderless">
                <tr>
                <th>Category</th>
                <th>Perempuan</th>
                <th>Laki-laki</th>
                <th>Total Penerima</th>
                </tr>
                <tr>
                <td>Dewasa</td>
                <td>${parsedData.dewasa.perempuan}</td>
                <td>${parsedData.dewasa.laki}</td>
                <td>${parsedData.dewasa.total}</td>
                </tr>
                <tr>
                <td>Lansia</td>
                <td>${parsedData.lansia.perempuan}</td>
                <td>${parsedData.lansia.laki}</td>
                <td>${parsedData.lansia.total}</td>
                </tr>
                <tr>
                <td>Remaja</td>
                <td>${parsedData.remaja.perempuan}</td>
                <td>${parsedData.remaja.laki}</td>
                <td>${parsedData.remaja.total}</td>
                </tr>
                <tr>
                <td>Anak-Anak</td>
                <td>${parsedData.anak.perempuan}</td>
                <td>${parsedData.anak.laki}</td>
                <td>${parsedData.anak.total}</td>
                </tr>
                <tr>
                <td>Total</td>
                <th>${parsedData.total.perempuan}</th>
                <th>${parsedData.total.laki}</th>
                <th>${parsedData.total.total}</th>
                </tr>
            </table>
            `;

                // Display SweetAlert with dynamic content
                Swal.fire({
                    title: "Info Data Penerima Manfaat",
                    html: htmlContent,
                    icon: 'info',
                    confirmButtonText: 'OK'
                });

            });

        });
    </script>

    <!-- JS for drop down jenis kegiatan -->

    <script>
        $(document).ready(function () {
            $('#jenis_kegiatan').select2({
                placeholder: 'Silakan pilih Jenis Kegiatan',
                ajax: {
                    url: 'https://sistem-informasi-idep.dev/kegiatan/api/jenis_kegiatan',
                    dataType: 'json',
                    processResults: function (data) {
                        var results = [];
                        $.each(data, function (group, options) {
                            var optgroup = {
                                text: group,
                                children: []
                            };
                            $.each(options, function (id, text) {
                                optgroup.children.push({
                                    id: id,
                                    text: text
                                });
                            });
                            results.push(optgroup);
                        });
                        return {
                            results: results
                        };
                    }
                }
            });

            // $('#sektor_kegiatan').select2({
            //     placeholder: 'Silakan pilih Sektor Kegiatan',
            //     ajax: {
            //         url: 'https://sistem-informasi-idep.dev/kegiatan/api/sektor_kegiatan',
            //         dataType: 'json',
            //         processResults: function (data) {
            //             var results = [];
            //             $.each(data, function(group, options) {
            //                 var optgroup = {
            //                     text: group,
            //                     children: []
            //                 };
            //                 $.each(options, function(id, text) {
            //                     optgroup.children.push({
            //                         id: id,
            //                         text: text
            //                     });
            //                 });
            //                 results.push(optgroup);
            //             });
            //             return {
            //                 results: results
            //             };
            //         }
            //     }
            // });

            // Function to update "Yes/No" display for a given toggle input
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            function updateToggleDisplay(toggleInput) {
                var isChecked = toggleInput.is(':checked');
                var displayTarget = toggleInput.data('display');
                $(`#${displayTarget}`).text(isChecked ? 'Yes' : 'No'); // added # selector
                // set the input value to 1 or 0
                // set the input value to yes or no
                toggleInput.val(isChecked ? 'yes' : 'no');
                // toggleInput.val(isChecked ? 1 : 0);
            }
            // Initial update when the page loads
            $('.toggle-input').each(function () {
                updateToggleDisplay($(this));
            });
            // Update on toggle input change
            $('.toggle-input').on('change', function () {
                updateToggleDisplay($(this));
            });
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////

            $('#fasepelaporan').select2({
                placeholder: 'Silakan pilih',
            });
            $('#status').select2({
                placeholder: 'Silakan pilih Status Kegiatan',
            });

            // Map dropdown values to form field prefixes
            const formFieldMap = {
                "1": "assessment",
                "2": "sosialisasi",
                "3": "pelatihan",
                "4": "pembelanjaan",
                "5": "pengembangan",
                "6": "kampanye",
                "7": "pemetaan",
                "8": "monitoring",
                "9": "kunjungan",
                "10": "konsultasi",
                "11": "lainnya",
            };
            const formContainer = $('#dynamic-form-container');

            // Event handler for jenis_kegiatan dropdown change
            $('#jenis_kegiatan').on('change', function () {
                const selectedValue = $(this).val();
                const fieldPrefix = formFieldMap[ selectedValue ];
                formContainer.empty();
                if (fieldPrefix) {
                    const formFields = getFormFields(fieldPrefix);
                    formContainer.append(formFields);

                    $('.summernote').each(function () {
                        const placeholder = $(this).attr('placeholder');
                        $('.summernote').summernote({
                            inheritPlaceholder: true,
                            height: 150,
                            width: '100%',
                            codeviewFilter: false,
                        })
                        $(this).summernote('placeholder', placeholder);
                        // console.info("data", placeholder)
                    });
                }

            });

            function getFormFields(fieldPrefix) {
                let formFields = '';
                const fields = {
                    assessment: [
                        { i: 'Siapa Saja Individu Dan Lembaga Yang Terlibat Dalam Kegiatan Ini?', label: 'Pihak Yang Terlibat', name: 'assessmentyangterlibat', type: 'textarea', placeholder: 'Pihak Yang Terlibat' },
                        { i: 'Jelaskan Secara Detil Hasil Yang Didapatkan Dari Assessment Yang Dilakukan', label: 'Temuan/Hasil Assessment', name: 'assessmenttemuan', type: 'textarea', placeholder: 'Temuan/Hasil Assessment' },
                        { i: '-', label: 'Apakah Membutuhkan Assessment Tambahan?', name: 'assessmenttambahan', type: 'radio', placeholder: 'Apakah Membutuhkan Assessment Tambahan?' },
                        { i: '-', label: 'Jika Ya, Jelaskan!', name: 'assessmenttambahan_ket', type: 'textarea', placeholder: 'Jika Ya, Jelaskan!' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'assessmentkendala', type: 'textarea', placeholder: 'Kendala/Tantangan Dan Solusi Yang Diterapkan' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'assessmentisu', type: 'textarea', placeholder: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'assessmentpembelajaran', type: 'textarea', placeholder: 'Pembelajaran' },
                    ],
                    sosialisasi: [
                        { i: 'Siapa Saja Individu Dan Lembaga Yang Terlibat Dalam Kegiatan Ini?', label: 'Pihak Yang Terlibat', name: 'sosialisasiyangterlibat', type: 'textarea' },
                        { i: 'Jabarkan Secara Mendetil Temuan Dan Hasil Yang Didapatkan Dari Kegiatan Assessment Ini', label: 'Temuan/Hasil Sosialisasi', name: 'sosialisasitemuan', type: 'textarea' },
                        { i: '', label: 'Apakah Membutuhkan Sosialisasi Tambahan?', name: 'sosialisasitambahan', type: 'radio' },
                        { i: '', label: 'Jika Ya, Jelaskan!', name: 'sosialisasitambahan_ket', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'sosialisasikendala', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'sosialisasiisu', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'sosialisasipembelajaran', type: 'textarea' },
                    ],
                    pelatihan: [
                        { i: 'Silahkan Jelaskan Siapa Saja Pelatih Yang Bertugas, Darimana Lembaga Asalnya, Serta Apa Perannya', label: 'Siapa Pelatih Yang Bertugas?', name: 'pelatihanpelatih', type: 'textarea' },
                        { i: 'Silahkan Jelaskan Hasil Pelatihan Yang Sudah Dilakukan, Apa Yang Sudah Dilatih, Bagaimana Penerimaan Pelatihannya, Dan Apa Rencana Tindak Lanjut Dari Pelatihan Ini', label: 'Hasil Pelatihan', name: 'pelatihanhasil', type: 'textarea' },
                        { i: '', label: 'Apakah Ada Distribusi Yang Dilakukan Bersama Dengan Pelatihan?', name: 'pelatihandistribusi', type: 'radio' },
                        { i: '', label: 'Jika Ya, Jelaskan!', name: 'pelatihandistribusi_ket', type: 'textarea' },
                        { i: 'Jabarkan Rtl Yang Disepakati Bersama Peserta Pelatihan! Tolong Detilkan Juga Apakah Sudah Ada Skema Monitorng Dan Evaluasi Yang Disepakati? Apakah Ada Pengembangan Komponen Yang Disepakati', label: 'Rencana Tindak Lanjut (Rtl) Pelatihan', name: 'pelatihanrencana', type: 'textarea' },
                        { i: 'Apakah Tabulasi Pre-Post Test Sudah Diunggah?', label: 'Unggah Tabulasi Pre-Post Test', name: 'pelatihanunggahan', type: 'radio' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'pelatihanisu', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'pelatihanpembelajaran', type: 'textarea' },
                    ],
                    pembelanjaan: [
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'pembelanjaandetailbarang', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Apa Saja Barang Yang Dibelanjakan Berserta Jumlah Yang Dibelanjakan, Harga Satuannya,  Dan Toko/Vendor Apa Yang Dipilih Untuk Tiap Barang', label: 'Detil Barang Yang Dibelanjakan', name: 'pembelanjaanmulai', type: 'datetime-local' },
                        { i: '', label: 'Kapan Waktu Pembelanjaan?', name: 'pembelanjaanselesai', type: 'datetime-local' },
                        { i: '', label: 'Kapan Waktu Distribusi Berlangsung?', name: 'pembelanjaandistribusimulai', type: 'datetime-local' },
                        { i: '', label: 'Apakah Semua Barang Yang Dibelanjakan Terdistribusikan?', name: 'pembelanjaandistribusiselesai', type: 'datetime-local' },
                        { i: '', label: 'Apakah Masih Akan Ada Distribusi Berikutnya?', name: 'pembelanjaanterdistribusi', type: 'radio' },
                        { i: 'Jelaskan Alasan Mengapa Masih Membutuhkan Distribusi Lanjutan, Dan Rencana/Skema Yang Disepakati', label: 'Jika Ya, Jelaskan!', name: 'pembelanjaanakandistribusi', type: 'radio' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'pembelanjaanakandistribusi_ket', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'pembelanjaankendala', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'pembelanjaanisu', type: 'textarea' },
                        { i: 'Jabarkan Dan Jelaskan Apa Saja Jenis Komponen Yang Dikembangkan (Contoh: Kebun Pekarangan Keluarga, Penangkapan Air Hujan, Dan Pengelolaan Kompos Skala Rumah Tangga)', label: 'Apa Saja Jenis Komponen/Model Yang Dikembangkan', name: 'pembelanjaanpembelajaran', type: 'textarea' },
                    ],
                    pengembangan: [
                        { i: 'Jabarkan Berapa Jumlah Komponen Yang Dikembangkan Per Masing-Masing Jenisnya', label: 'Berapa Komponen Yang Dikembangkan?', name: 'pengembanganjeniskomponen', type: 'textarea' },
                        { i: 'Jelaskan Lokasi Komponen-Komponen Ini Dikembangkan', label: 'Dimana Lokasi Komponen Dikembangkan?', name: 'pengembanganberapakomponen', type: 'textarea' },
                        { i: 'Jabarkan Siapa Saja Yang Terlibat Dalam Pengembangan Komponen Ini, Darimana Asal Lembaganya, Serta Apa Peran Dan Fungsinya', label: 'Siapa Saja Yang Dilibatkan Dalam Pengembangan Komponen?', name: 'pengembanganlokasikomponen', type: 'textarea' },
                        { i: '', label: 'Rencana Tindak Lanjut (Rtl) Pengembangan Komponen', name: 'pengembanganyangterlibat', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'pengembanganrencana', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'pengembangankendala', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'pengembanganisu', type: 'textarea' },
                        { i: 'Jelaskan Apa Isu Yang Dikampanyekan', label: 'Apa Isu Yang Dikampanyekan?', name: 'pengembanganpembelajaran', type: 'textarea' },
                    ],
                    kampanye: [
                        { i: 'Silahkan Pilih Jenis Kampanye Yang Dilakukan', label: 'Jenis Kampanye Yang Dilakukan', name: 'kampanyeyangdikampanyekan', type: 'textarea' },
                        { i: 'Jelaskan Kegiatan Seperti Apa Yang Dilakukan Sebagai Bentuk Dari Kampanye (Contoh: Produksi, Diseminasi, Dan Penempelan Poster/Flyer)', label: 'Apa Bentuk Kegiatan Dari Kampanye Dilakukan?', name: 'kampanyejenis', type: 'textarea' },
                        { i: 'Jabarkan Siapa Saja Yang Turut Dilibatkan Dalam Kampanye Ini, Dari Mana Asal Lembaganya, Dan Apa Peran/Tugasnya', label: 'Siapa Saja Yang Dilibatkan Dalam Kampanye Ini?', name: 'kampanyebentukkegiatan', type: 'textarea' },
                        { i: 'Jelaskan Target Sasaran Kampanye Ini (Contoh: Pelajar, Orang Tua Murid)', label: 'Siapa Yang Disasar Dari Kampanye Ini?', name: 'kampanyeyangterlibat', type: 'textarea' },
                        { i: 'Jabarkan Berapa Banyak Capaian Outreach Yang Berhasil Dicapai, Bisa Berkoordinasi Dengan Tim Comms Jika Jenis Kampanye Online/Hybrid', label: 'Berapa Banyak Outreach/Jangkauan Dari Kampanye Ini?', name: 'kampanyeyangdisasar', type: 'textarea' },
                        { i: 'Jelaskan Apa Rencana Tindak Lanjut Dari Kegiatan Kampanye Ini (Jika Ada)', label: 'Rencana Tindak Lanjut (Rtl) Pengembangan Komponen?', name: 'kampanyejangkauan', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'kampanyerencana', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'kampanyekendala', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'kampanyeisu', type: 'textarea' },
                        { i: 'Jelaskan Jenis Peta Apa Yang Akan Dihasilkan Dari Kegiatan Ini', label: 'Peta Apa Yang Akan Dihasilkan Dari Kegiatan Ini?', name: 'kampanyepembelajaran', type: 'textarea' },
                    ],
                    pemetaan: [
                        { i: 'Jelaskan Berapa Angka Luasan Dari Wilayah Yang Dilakukan Pemetaan', label: 'Berapa Luasan Yang Diintervensi?', name: 'pemetaanyangdihasilkan', type: 'textarea' },
                        { i: 'Jelaskan Unit Dari Angka Luasan Di Atas', label: 'Unit Dari Luasan Yang Diintervesi', name: 'pemetaanluasan', type: 'textarea' },
                        { i: 'Jabarkan Siapa Saja Yang Terlibat Dalam Proses Pemetaan Ini, Darimana Asal Lembaganya, Serta Apa Peran Dan Fungsinya', label: 'Siapa Saya Yang Dilibatkan Dalam Kegiatan Ini?', name: 'pemetaanunit', type: 'textarea' },
                        { i: 'Jelaskan Apa Rencana Tindak Lanjut Dari Kegiatan Pemetaan Ini (Jika Ada)', label: 'Rencana Tindak Lanjut (Rtl) Pengembangan Komponen?', name: 'pemetaanyangterlibat', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'pemetaanrencana', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'pemetaanisu', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'pemetaanpembelajaran', type: 'textarea' },
                    ],
                    monitoring: [
                        { i: 'Jelaskan Apa Komponen/Subyek Yang Dipantau Dan Dievaluasi Melalui Kegiatan Ini', label: 'Apa Yang Hendak Dipantau Dan Dievaluasi Dari Kegiatan Ini?', name: 'monitoringyangdipantau', type: 'textarea' },
                        { i: 'Jabarkan Apa Saja Jenis Data Yang Hendak Didapatkan Dari Kegiatan Monitoring Dan Evaluasi Ini', label: 'Jenis Data Yang Didapatkan', name: 'monitoringdata', type: 'textarea' },
                        { i: 'Jabarkan Siapa Saja Yang Terlibat Dalam Kegiatan Monitoring Dan Evaluasi Ini, Darimana Asal Lembaganya, Serta Apa Peran Dan Fungsinya', label: 'Siapa Yang Terlibat Dalam Kegiatan Ini?', name: 'monitoringyangterlibat', type: 'textarea' },
                        { i: 'Jelaskan Metode Yang Digunakan Dalam Kegiatan Ini (Contoh: Pengisian Form Monitoring/Fgd/Survey/Dll)', label: 'Metode Apa Yang Digunakan Dalam Kegiatan Ini?', name: 'monitoringmetode', type: 'textarea' },
                        { i: 'Jelaskan Hasil/Kesimpulan Yang Didapat Dari Kegiatan Monitoring Dan Evaluasi Ini', label: 'Apa Hasil Yang Diperoleh Dari Kegiatan Pemantauan Dan Evaluasi Ini?', name: 'monitoringhasil', type: 'textarea' },
                        { i: '', label: 'Apakah Masih Akan Ada Kegiatan Monitoring Dan Evaluasi Selanjutnya?', name: 'monitoringkegiatanselanjutnya', type: 'radio' },
                        { i: 'Jelaskan Mengapa Masih Membutuhkan Kegiatan Monitoring Dan Evaluasi Lanjutan, Dan Apa Rencana/Strategi Yang Akan Digunakan', label: 'Jika Ya, Jelaskan!', name: 'monitoringkegiatanselanjutnya_ket', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'monitoringkendala', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'monitoringisu', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'monitoringpembelajaran', type: 'textarea' },
                    ],
                    kunjungan: [
                        { i: 'Jabarkan Siapa Saja Yang Terlibat Dalam Kegiatan Monitoring Dan Evaluasi Ini, Darimana Asal Lembaganya, Serta Apa Peran Dan Fungsinya', label: 'Lembaga Apa Yang Terlibat Dalam Kegiatan Ini?', name: 'kunjunganlembaga', type: 'textarea' },
                        { i: 'Jelaskan Siapa Dan Dari Lembaga Mana Peserta Dari Kunjungan Dan Visitasi Yang Dilaporkan', label: 'Siapa Peserta Dari Kegiatan Ini?', name: 'kunjunganpeserta', type: 'textarea' },
                        { i: 'Jelaskan Apa Saja Kegiatan Yang Dilakukan Oleh Peserta, Sesuai Rencana Dan Implementasi Yang Dilakukan Oleh Tim Yang Bertugas', label: 'Apa Yang Dilakukan Dalam Kegiatan Ini?', name: 'kunjunganyangdilakukan', type: 'textarea' },
                        { i: 'Jelaskan Apa Saja Hasil Yang Diperoleh Dari Kegiatan Kunjungan / Visitasi Ini', label: 'Apa Hasil Dari Kegiatan Kunjungan / Visitasi Ini?', name: 'kunjunganhasil', type: 'textarea' },
                        { i: 'Jabarkan Potensi Pendapatan Yang Terpetakan Dari Kegiatan Ini', label: 'Potensi Pendapatan', name: 'kunjunganpotensipendapatan', type: 'textarea' },
                        { i: 'Jelaskan Apa Rencana Tindak Lanjut Dari Kegiatan Pemetaan Ini (Jika Ada)', label: 'Rencana Tindak Lanjut (Rtl) Dari Kegiatan', name: 'kunjunganrencana', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'kunjungankendala', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'kunjunganisu', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'kunjunganpembelajaran', type: 'textarea' },
                    ],
                    konsultasi: [
                        { i: 'Jabarkan Siapa Saja Yang Terlibat Dalam Kegiatan Konsultansi Ini, Darimana Asal Lembaganya, Serta Apa Peran Dan Fungsinya', label: 'Lembaga Apa Yang Terlibat Dalam Kegiatan Ini?', name: 'konsultasilembaga', type: 'textarea' },
                        { i: 'Jelaskan Dan Jabarkan Komponen/Model Apa Yang Hendak Dikembangkan Oleh Client Sesuai Kontrak/Mou Yang Disepakati', label: 'Komponen Yang Hendak Dihasilkan Client', name: 'konsultasikomponen', type: 'textarea' },
                        { i: 'Jelaskan Secara Detil Apa Saja Yang Dilakukan Tim Selama Proses Konsultansi Berlangsung', label: 'Apa Yang Dilakukan Tim Konsultansi Idep?', name: 'konsultasiyangdilakukan', type: 'textarea' },
                        { i: 'Jelaskan Secara Detil Apa Yang Dihasilkan Dari Diimplementasikannya Konsultansi Ini', label: 'Apa Hasil Dari Kegiatan Konsultansi Yang Dilakukan?', name: 'konsultasihasil', type: 'textarea' },
                        { i: 'Jabarkan Potensi Pendapatan Yang Terpetakan Dari Kegiatan Ini', label: 'Potensi Pendapatan', name: 'konsultasipotensipendapatan', type: 'textarea' },
                        { i: 'Jelaskan Apa Rencana Tindak Lanjut Dari Kegiatan Pemetaan Ini (Jika Ada)', label: 'Rencana Tindak Lanjut (Rtl) Dari Kegiatan', name: 'konsultasirencana', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'konsultasikendala', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'konsultasiisu', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'konsultasipembelajaran', type: 'textarea' },
                    ],
                    lainnya: [
                        { i: 'Jelaskan Alasan Yang Mendasari Kenapa Kegiatan Ini Tetap Dilakukan Meski Tidak Termasuk/Termuat Di Dalam Proposal/Lfa Dll.', label: 'Mengapa Kegiatan Ini Dilakukan?', name: 'lainnyamengapadilakukan', type: 'textarea' },
                        { i: 'Jelaskan Apa Hal Signifikan Yang Terjadi Setelah Menjalankan Kegiatan Ini, Yang Berhubungan Dengan Implementasi Program Terkait', label: 'Apa Dampak Signifikan Dari Dilakukannya Kegiatan Ini?', name: 'lainnyadampak', type: 'textarea' },
                        { i: '', label: 'Dari Mana Sumber Pendanaan Kegiatan Ini?', name: 'lainnyasumberpendanaan', type: 'textarea' },
                        { i: 'Jika Berasal Dari Program Berbasis Donor, Jelaskan Justifikasi Penggunaan Dananya, Dan Koordinasi/Komunikasi Apa Yang Sudah Dilakukan Tim Terkait Hal Terserbut', label: 'Jika Pendanaan Dari Sumber Lainnya, Silahkan Jelaskan!', name: 'lainnyasumberpendanaan_ket', type: 'textarea' },
                        { i: 'Jelaskan Siapa Dan Dari Lembaga Mana Peserta Dari Kegiatan Yang Dilaporkan Ini', label: 'Siapa Yang Terlibat Dalam Kegiatan Ini?', name: 'lainnyayangterlibat', type: 'textarea' },
                        { i: 'Jelaskan Apa Rencana Tindak Lanjut Dari Kegiatan Yang Dilaporkan Ini (Jika Ada)', label: 'Rencana Tindak Lanjut (Rtl) Dari Kegiatan', name: 'lainnyarencana', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Tantangan Yang Ditemui Selama Menjalankan Kegiatan, Serta Solusinya Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Kendala/Tantangan Dan Solusi Yang Diterapkan', name: 'lainnyakendala', type: 'textarea' },
                        { i: 'Silahkan Isi Dan Jabarkan Isu-Isu Yang Perlu Diperhatikan (Bersifat Di Luar Kendali Tim) Selama Menjalankan Kegiatan, Serta Rekomendasi Yang Perlu Diambil Berdasarkan Hasil Evaluasi Kegiatan (Jika Ada).', label: 'Isu Yang Perlu Dipehatikan Dan Rekomendasinya', name: 'lainnyaisu', type: 'textarea' },
                        { i: 'Silakan Isi Dan Jabarkan Pembelajaran Apa Yang Bisa Didapatkan Selama Proses Pelaksanaan Kegiatan. Bisa Diambil Dari Hasil Evaluasi Internal Tim Dan Form Frm Yang Diisi Partisipan. Silakan Fokus Pada Rekomendasi Pembelajarannya.', label: 'Pembelajaran', name: 'lainnyapembelajaran', type: 'textarea' },
                    ],

                };
                if (fields[ fieldPrefix ]) {
                    fields[ fieldPrefix ].forEach(field => {
                        const fieldId = `${fieldPrefix}-${field.name}`;
                        if (field.type === 'checkbox') {
                            formFields += `
                            <div class="form-group row">
                                <label class="col-sm-3 col-md-3 col-lg-2 order-1 order-md-1 col-form-label">
                                    ${field.label}
                                    <i class="fas fa-info-circle text-success" data-toggle="tooltip" title="${field.i}"></i>
                                </label>

                                <div class="col-sm col-md col-lg order-2 order-md-2 self-center">
                                    <div class="custom-control custom-switch">
                                        <input type="checkbox" class="custom-control-input toggle-input" data-display="${fieldId}-display" name="${field.name}" id="${fieldId}">
                                        <label class="custom-control-label" for="${fieldId}"></label>
                                        <span id="${fieldId}-display">No</span>
                                    </div>
                                </div>
                            </div>
                        `;
                        }
                        else if (field.type === 'textarea') {
                            formFields += `
                            <div class="form-group row">
                            <label for="${field.name}"
                                class="col-sm-3 col-md-3 col-lg-2 order-1 order-md-1 col-form-label"
                                data-toggle="tooltip" title="${field.label}">
                                ${field.label}
                                <i class="fas fa-info-circle text-success" data-toggle="tooltip" title="${field.i}"></i>
                            </label>
                            <div class="col-sm col-md col-lg order-2 order-md-2 self-center">
                                <textarea name="${field.name}" id="${fieldId}" class="form-control summernote" rows="2" data-placeholder="${field.i}" placeholder="${field.i}"></textarea>
                                </div>
                            </div>
                        `;
                        }
                        else if (field.type === 'radio') {
                            const selectedValue = field.value || '0'; // Default to '0' if not set
                            formFields += `
                            <div class="form-group row">
                                <label class="col-sm-3 col-md-3 col-lg-2 order-1 order-md-1" data-toggle="tooltip"
                                title="${field.label}">${field.label}
                                    <i class="fas fa-info-circle text-success" data-toggle="tooltip" title="${field.i}"></i>
                                </label>
                                <div class="col-sm col-md col-lg order-2 order-md-2">
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" id="${fieldId}-yes" name="${field.name}" value="1" class="custom-control-input custom-control-input-success" ${selectedValue == '1' ? 'checked' : ''}>
                                        <label class="custom-control-label" for="${fieldId}-yes">Yes</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" id="${fieldId}-no" name="${field.name}" value="0" class="custom-control-input custom-control-input-danger" ${selectedValue == '0' ? 'checked' : ''}>
                                        <label class="custom-control-label" for="${fieldId}-no">No</label>
                                    </div>
                                </div>
                            </div>
                        `;
                        }
                        else {
                            formFields += `
                        <div class="form-group row">
                                <label for="${field.name}" class="col-sm-3 col-md-3 col-lg-2 order-1 order-md-1 col-form-label" data-toggle="tooltip" title="${field.label}">${field.label}
                                    <i class="fas fa-info-circle text-success" data-toggle="tooltip" title="${field.i}"></i>
                                </label>
                                <div class="col-sm col-md col-lg order-2 order-md-2 self-center">
                                    <input type="${field.type}" class="form-control" name="${field.name}" id="${fieldId}">
                                </div>
                            </div>
                        `;
                        }

                    });
                }
                return formFields;
            }

        });

    </script>

    <!-- fase kegiatan js to fecth data an autoamtically pre-populate fase -->
    <script>
        $(document).ready(function () {

            // Function to fetch and update fase pelaporan
            function fetchFasePelaporan(programOutcomeOutputActivityId) {
                if (!programOutcomeOutputActivityId) {
                    $('#fasepelaporan').val(1).trigger('change');
                    $('#fasepelaporan option').prop('disabled', false);
                    return;
                }
                $.ajax({
                    url: 'https://sistem-informasi-idep.dev/kegiatan/api/fase-pelaporan/' + programOutcomeOutputActivityId,
                    method: 'GET',
                    success: function (data) {
                        $('#fasepelaporan').val(data.next_fase_pelaporan).trigger('change');
                        $('#fasepelaporan option').prop('disabled', false); // Enable all options first
                        $.each(data.disabled_fase, function (index, value) {
                            $('#fasepelaporan option[value="' + value + '"]').prop('disabled', true);
                        });
                    }
                });
            }
            //listen to program id change
            $('#program_id').on('change', function () {
                const programOutcomeOutputActivityId = $('#programoutcomeoutputactivity_id').val();
                fetchFasePelaporan(programOutcomeOutputActivityId);
            });
            //listen to program out activity id change
            $('#programoutcomeoutputactivity_id').on('change', function () {
                const programOutcomeOutputActivityId = $(this).val();
                fetchFasePelaporan(programOutcomeOutputActivityId);
            });
            //Initial Load
            const initialProgramOutcomeOutputActivityId = $('#programoutcomeoutputactivity_id').val();
            fetchFasePelaporan(initialProgramOutcomeOutputActivityId);
        });
    </script>



    <!-- javascript to push javascript to stack('basic_tab_js') -->

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <script>
        // ErrorHandler Module
        const ErrorHandler = {
            handleMapError: function (error) {
                console.error('Map Initialization Error:', error);
                Swal.fire({
                    icon: 'error',
                    title: 'Map Error',
                    text: 'Unable to load map. Please try again later.',
                    footer: `Error Details: ${error.message}`
                });
            },

            handleGeojsonError: function (error) {
                console.error('GeoJSON Loading Error:', error);
                Swal.fire({
                    icon: 'warning',
                    title: 'Geographic Data Error',
                    text: 'Could not load geographic boundaries. Some features may be limited.',
                    confirmButtonText: 'Retry',
                    showCancelButton: true
                }).then((result) => {
                    if (result.isConfirmed) {
                        location.reload();
                    }
                });
            },

            handleCoordinateError: function (message) {
                Swal.fire({
                    icon: 'warning',
                    title: 'Invalid Coordinates',
                    text: message || 'The provided coordinates are invalid.'
                });
            }
        };

        // Map Management Module
        const MapManager = {
            map: null,
            markers: [],
            bataskec: null,
            currentKecamatan: '',
            currentKabupaten: '',

            initMap: function () {
                try {
                    // Map Initialization
                    this.map = L.map('map').setView([ -8.38054848, 115.16239243 ], 9);

                    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        maxZoom: 18,
                        attribution: '© <a href="/">RGBDev</a>'
                    }).addTo(this.map);

                    this.initGeoJSON();
                    this.setupMapEvents();
                } catch (error) {
                    ErrorHandler.handleMapError(error);
                }
            },

            initGeoJSON: function () {
                this.bataskec = L.geoJson(null, {
                    style: this.getGeoJSONStyle.bind(this),
                    onEachFeature: this.setupGeoJSONInteractions.bind(this)
                });

                $.getJSON("/data/batas_kecamatan1.geojson")
                    .done((data) => {
                        this.bataskec.addData(data);
                        this.map.addLayer(this.bataskec);
                        this.updateAllMarkers();
                    })
                    .fail((xhr, status, error) => {
                        ErrorHandler.handleGeojsonError(error);
                    });
            },

            getGeoJSONStyle: function () {
                return {
                    fillColor: "white",
                    fillOpacity: 0,
                    color: "black",
                    weight: 1,
                    opacity: 0.6
                };
            },

            setupGeoJSONInteractions: function (feature, layer) {
                layer.on({
                    click: () => this.handleGeoJSONClick(feature),
                    mouseover: this.handleMouseOver,
                    mouseout: this.handleMouseOut
                });
            },

            handleGeoJSONClick: function (feature) {
                this.currentKecamatan = feature.properties.KECAMATAN;
                this.currentKabupaten = feature.properties.KABUPATEN;

                const index = $('.lokasi-kegiatan').index($('.lokasi-kegiatan').last());
                if (this.markers[ index ]) {
                    this.markers[ index ].setPopupContent(
                        this.generatePopupContent(index, this.currentKecamatan, this.currentKabupaten)
                    );
                }
            },

            handleMouseOver: function (e) {
                const layer = e.target;
                layer.setStyle({
                    weight: 3,
                    color: "#00FFFF",
                    opacity: 1
                });
                layer.bringToFront();
            },

            handleMouseOut: function (e) {
                const layer = e.target;
                layer.setStyle({
                    fillColor: "white",
                    fillOpacity: 0,
                    color: "black",
                    weight: 1,
                    opacity: 0.6
                });
            },

            setupMapEvents: function () {
                this.map.on('click', this.handleMapClick.bind(this));
            },

            handleMapClick: function (e) {

                const lastLocationInputs = $('.lokasi-kegiatan').last();
                const index = $('.lokasi-kegiatan').index(lastLocationInputs);

                lastLocationInputs.find('input[name="lat[]"]').val(e.latlng.lat.toFixed(8));
                lastLocationInputs.find('input[name="long[]"]').val(e.latlng.lng.toFixed(8));

                this.updateLocationDetails(e.latlng, index);
            },

            updateLocationDetails: function (latlng, index) {
                let foundLocation = false;
                this.bataskec.eachLayer((layer) => {
                    if (!foundLocation && layer.getBounds().contains(latlng)) {
                        this.currentKecamatan = layer.feature.properties.KECAMATAN;
                        this.currentKabupaten = layer.feature.properties.KABUPATEN;
                        foundLocation = true;
                    }
                });

                this.updateMarkerAtIndex(latlng.lat, latlng.lng, index);
            },

            updateMarkerAtIndex: function (lat, long, index) {
                // Remove existing marker if exists
                if (this.markers[ index ]) {
                    this.map.removeLayer(this.markers[ index ]);
                }

                // Create new marker
                var marker = L.marker([ lat, long ]).addTo(this.map);
                this.markers[ index ] = marker;

                // Bind popup
                marker.bindPopup(this.generatePopupContent(index, this.currentKecamatan, this.currentKabupaten)).openPopup();

                // Center map
                this.map.setView([ lat, long ], 14);
            },

            // Modify generatePopupContent to ensure all fields are updated
            generatePopupContent: function (index, kecamatan, kabupaten) {
                var locationRow = $('.lokasi-kegiatan').eq(index);
                var kode_kegiatan = $('#kode_kegiatan').val() || '';
                var nama_kegiatan = $('#nama_kegiatan').val() || '';
                var lokasi = locationRow.find('input[name="lokasi[]"]').val() || '';
                var lat = locationRow.find('input[name="lat[]"]').val() || '';
                var long = locationRow.find('input[name="long[]"]').val() || '';

                return `
                <strong>Kode Kegiatan :</strong> ${kode_kegiatan}<br>
                <strong>Nama Kegiatan :</strong> ${nama_kegiatan}<br>
                <strong>Kecamatan :</strong> ${kecamatan || ''}<br>
                <strong>Kabupaten :</strong> ${kabupaten || ''}<br><br>
                <strong>Lokasi Kegiatan:</strong> ${lokasi}<br>
                <strong>Latitude:</strong> ${lat}<br>
                <strong>Longitude:</strong> ${long}<br>
            `;
            },

            // Update updateAllMarkers to refresh popup content
            updateAllMarkers: function () {
                const self = this;
                $('.lokasi-kegiatan').each(function (index) {
                    var marker = self.markers[ index ];
                    if (marker) {
                        // Get coordinates from inputs
                        var lat = parseFloat($(this).find('input[name="lat[]"]').val());
                        var long = parseFloat($(this).find('input[name="long[]"]').val());

                        // Check if lat and long are valid numbers before proceeding
                        if (!isNaN(lat) && !isNaN(long)) {
                            // Find kecamatan and kabupaten for these coordinates
                            var foundLocation = false;
                            self.bataskec.eachLayer(function (layer) {
                                if (!foundLocation && layer.getBounds().contains([ lat, long ])) {
                                    self.currentKecamatan = layer.feature.properties.KECAMATAN;
                                    self.currentKabupaten = layer.feature.properties.KABUPATEN;
                                    foundLocation = true;
                                }
                            });

                            // Update popup content
                            marker.setPopupContent(
                                self.generatePopupContent(
                                    index,
                                    self.currentKecamatan,
                                    self.currentKabupaten
                                )
                            );


                        }
                    }
                });
            },
        };

        // Document Ready Initialization
        $(document).ready(function () {
            // Initialize Map
            MapManager.initMap();

            // Event Bindings
            $('#btn-lokasi-kegiatan').on('click', function () {
                addNewLocationInputs();
            });

            // Update markers when input fields change
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////

            // Add event listener for location input changes
            $(document).on('input', 'input[name="lokasi[]"]', function () {
                const container = $(this).closest('.lokasi-kegiatan');
                const index = $('.lokasi-kegiatan').index(container);

                // Update marker popup if marker exists
                if (MapManager.markers[ index ]) {
                    MapManager.markers[ index ].setPopupContent(
                        MapManager.generatePopupContent(
                            index,
                            MapManager.currentKecamatan,
                            MapManager.currentKabupaten
                        )
                    );
                }
            });

            // Error Handling for Coordinate Inputs
            $(document).on('input', 'input[name="long[]"], input[name="lat[]"]', function () {
                const container = $(this).closest('.lokasi-kegiatan');
                const long = parseFloat(container.find('input[name="long[]"]').val());
                const lat = parseFloat(container.find('input[name="lat[]"]').val());
                const index = $('.lokasi-kegiatan').index(container);

                if (!isNaN(lat) && !isNaN(long)) {
                    MapManager.updateMarkerAtIndex(lat, long, index);
                } else {
                    ErrorHandler.handleCoordinateError('Invalid coordinate format');
                }
            });
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////

            $('#kode_kegiatan, #nama_kegiatan, #nama_desa , #lokasi').on('input change', function () {
                MapManager.updateAllMarkers();
            });

            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            $('#list_program_out_activity tbody').on('click', '.select-activity', function (e) {
                e.preventDefault();
                // Fetch the selected program details
                var activity_Id = $(this).closest('tr').data('id');
                var activityKode = $(this).closest('tr').data('kode');
                var activityNama = $(this).closest('tr').data('nama');


                // Update the hidden input and display fields
                // $('#id_programoutcomeoutputactivity').val(activityId).trigger('change');
                // $('#kode_kegiatan').val(activityKode);
                // $('#nama_kegiatan').val(activityNama).prop('disabled', true);


                $('#programoutcomeoutputactivity_id').val(activity_Id).trigger('change');
                $('#kode_kegiatan').val(activityKode);
                $('#nama_kegiatan').val(activityNama).prop('disabled', true);
                $('#kode_program').prop('disabled', true);

                MapManager.updateAllMarkers();
                $('#nama_kegiatan').focus();
                setTimeout(function () {
                    $('#ModalDaftarProgramActivity').modal('hide');
                }, 200);

            });

            // Add the remove location handler
            $(document).on('click', '.remove-staff-row', function () {
                var row = $(this).closest('.lokasi-kegiatan');
                var index = $('.lokasi-kegiatan').index(row);

                if (MapManager.markers[ index ]) {
                    MapManager.map.removeLayer(MapManager.markers[ index ]);
                    MapManager.markers.splice(index, 1);
                }

                row.remove();
                MapManager.updateAllMarkers();
            });

            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////////////////////////
        });

        function addNewLocationInputs(uniqueId) {
            if (!uniqueId) {
                uniqueId = Date.now();
            }

            var newLocationField = `
        <div class="form-group row lokasi-kegiatan" data-unique-id="${uniqueId}">
            <div class="col-sm-12 col-md-12 col-lg-1 self-center order-1">
                <select name="provinsi_id[]" class="form-control dynamic-select2 provinsi-select"
                    id="provinsi-${uniqueId}"
                    data-placeholder="Pilih Provinsi">
                </select>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-1 self-center order-2">
                <select name="kabupaten_id[]" class="form-control dynamic-select2 kabupaten-select"
                    id="kabupaten-${uniqueId}"
                    data-placeholder="Pilih Kabupaten">
                </select>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-2 self-center order-3">
                <select name="kecamatan_id[]" class="form-control dynamic-select2 kecamatan-select"
                    id="kecamatan-${uniqueId}"
                    data-placeholder="Pilih Kecamatan">
                </select>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-2 self-center order-4">
                <select name="kelurahan_id[]" class="form-control dynamic-select2 kelurahan-select"
                    id="kelurahan-${uniqueId}"
                    data-placeholder="Pilih Desa">
                </select>
            </div>
             <div class="col-sm-12 col-md-12 col-lg-2 self-center order-5">
                <input type="text" class="form-control lokasi-input" id="lokasi-${uniqueId}" name="lokasi[]" placeholder="Lokasi Kegiatan">
             </div>
            <div class="col-sm-12 col-md-12 col-lg-2 self-center order-6">
                <input type="text" class="form-control lat-input" id="lat-${uniqueId}" name="lat[]" placeholder="Latitude">
            </div>
            <div class="col-sm-12 col-md-12 col-lg-2 self-center order-7 d-flex align-items-center">
                <input type="text" class="form-control lang-input flex-grow-1"  id="long-${uniqueId}" name="long[]" placeholder="Longitude">
                <button type="button" class="btn btn-danger remove-staff-row btn-sm ml-1">
                    <i class="bi bi-trash"></i>
                </button>
            </div>
        </div>`;

            $('.list-lokasi-kegiatan').append(newLocationField);


            // Initialize provinsi select2
            $(`#provinsi-${uniqueId}`).select2({
                placeholder: 'Pilih Provinsi',
                allowClear: true,
                ajax: {
                    url: "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/provinsi",
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            search: params.term,
                            page: params.page || 1
                        };
                    },
                    processResults: function (data, params) {
                        params.page = params.page || 1;
                        return {
                            results: data.results,
                            pagination: {
                                more: data.pagination.more
                            }
                        };
                    },
                    cache: true
                }
            });

            // Initialize kabupaten select2
            $(`#kabupaten-${uniqueId}`).select2({
                placeholder: 'Pilih Kabupaten',
                allowClear: true,
                ajax: {
                    url: "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/kabupaten",
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            search: params.term,
                            provinsi_id: $(`#provinsi-${uniqueId}`).val(), // Get the province ID
                            page: params.page || 1
                        };
                    },
                    processResults: function (data, params) {
                        params.page = params.page || 1;
                        return {
                            results: data.results,
                            pagination: {
                                more: data.pagination.more
                            }
                        };
                    },
                    cache: true
                }
            });


            // Initialize kecamatan select2
            $(`#kecamatan-${uniqueId}`).select2({
                placeholder: 'Pilih Kecamatan',
                allowClear: true,
                ajax: {
                    url: "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/kecamatan",
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            search: params.term,
                            kabupaten_id: $(`#kabupaten-${uniqueId}`).val(),
                            page: params.page || 1
                        };
                    },
                    processResults: function (data, params) {
                        params.page = params.page || 1;
                        return {
                            results: data.results,
                            pagination: {
                                more: data.pagination.more
                            }
                        };
                    },
                    cache: true
                }
            });


            // Initialize kelurahan select2
            $(`#kelurahan-${uniqueId}`).select2({
                placeholder: 'Pilih Desa',
                allowClear: true,
                ajax: {
                    url: "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/kelurahan",
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            search: params.term,
                            kecamatan_id: $(`#kecamatan-${uniqueId}`).val(),
                            page: params.page || 1
                        };
                    },
                    processResults: function (data, params) {
                        params.page = params.page || 1;
                        return {
                            results: data.results,
                            pagination: {
                                more: data.pagination.more
                            }
                        };
                    },
                    cache: true
                }
            });


            // Handle dependencies
            $(`#provinsi-${uniqueId}`).on('change', function () {
                $(`#kabupaten-${uniqueId}`).val(null).trigger('change');
                $(`#kecamatan-${uniqueId}`).val(null).trigger('change');
                $(`#kelurahan-${uniqueId}`).val(null).trigger('change');
            });

            $(`#kabupaten-${uniqueId}`).on('change', function () {
                $(`#kecamatan-${uniqueId}`).val(null).trigger('change');
                $(`#kelurahan-${uniqueId}`).val(null).trigger('change');
            });


            $(`#kecamatan-${uniqueId}`).on('change', function () {
                $(`#kelurahan-${uniqueId}`).val(null).trigger('change');
            });


            // Add event listeners to save data to localStorage
            $(`#provinsi-${uniqueId}, #kabupaten-${uniqueId}, #kecamatan-${uniqueId}, #kelurahan-${uniqueId}, #lokasi-${uniqueId}, #lat-${uniqueId}, #long-${uniqueId}`)
                .on('change', function () {
                    saveLocationToLocalStorage(uniqueId);
                });

            $(`.list-lokasi-kegiatan .lokasi-kegiatan[data-unique-id="${uniqueId}"]`).on('click', '.remove-staff-row', function () {
                // Remove from localStorage when row is removed
                removeLocationFromLocalStorage(uniqueId);
                $(this).closest('.lokasi-kegiatan').remove();
            });
            return uniqueId
        }

        function saveLocationToLocalStorage(uniqueId) {
            const locationRow = $(`.lokasi-kegiatan[data-unique-id="${uniqueId}"]`);

            // Get all location data
            var locationData = {
                uniqueId: uniqueId,
                provinsi_id: $(`#provinsi-${uniqueId}`).val(),
                kabupaten_id: $(`#kabupaten-${uniqueId}`).val(),
                kecamatan_id: $(`#kecamatan-${uniqueId}`).val(),
                kelurahan_id: $(`#kelurahan-${uniqueId}`).val(),
                lokasi: $(`#lokasi-${uniqueId}`).val(),
                lat: $(`#lat-${uniqueId}`).val(),
                long: $(`#long-${uniqueId}`).val(),
            };
            let kegiatanLokasi = JSON.parse(localStorage.getItem('KegiatanLokasi')) || [];

            let existingIndex = kegiatanLokasi.findIndex(item => item.uniqueId === uniqueId);
            if (existingIndex !== -1) {

                kegiatanLokasi[ existingIndex ] = locationData;
            } else {
                // Add new entry
                kegiatanLokasi.push(locationData);
            }
            // Save back to localStorage
            localStorage.setItem('KegiatanLokasi', JSON.stringify(kegiatanLokasi));

        }

        function loadLocationFromLocalStorage(uniqueId) {
            let kegiatanLokasi = JSON.parse(localStorage.getItem('KegiatanLokasi')) || [];
            let locationData = kegiatanLokasi.find(item => item.uniqueId === uniqueId);

            if (locationData) {
                preselectSelect2($(`#provinsi-${uniqueId}`), locationData.provinsi_id, "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/provinsi")
                    .then(() => {
                        return preselectSelect2($(`#kabupaten-${uniqueId}`), locationData.kabupaten_id, "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/kabupaten", { provinsi_id: locationData.provinsi_id });
                    })
                    .then(() => {
                        return preselectSelect2($(`#kecamatan-${uniqueId}`), locationData.kecamatan_id, "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/kecamatan", { kabupaten_id: locationData.kabupaten_id });
                    })
                    .then(() => {
                        return preselectSelect2($(`#kelurahan-${uniqueId}`), locationData.kelurahan_id, "https://sistem-informasi-idep.dev/api/kegiatan/kegiatan/api/kelurahan", { kecamatan_id: locationData.kecamatan_id });
                    })
                    .then(() => {
                        // After all select2s are populated, load the inputs
                        $(`#lokasi-${uniqueId}`).val(locationData.lokasi);
                        $(`#lat-${uniqueId}`).val(locationData.lat);
                        $(`#long-${uniqueId}`).val(locationData.long);
                    });
            }
            return uniqueId;
        }


        function preselectSelect2(selectElement, id, url, additionalData = {}) {
            return new Promise(resolve => {
                if (!id) {
                    resolve();
                    return;
                }

                $.ajax({
                    url: url,
                    dataType: 'json',
                    data: { ...additionalData, id: [ id ] },
                    success: function (data) {
                        if (data.results && data.results.length > 0) {
                            const item = data.results[ 0 ];
                            const option = new Option(item.text, item.id, true, true);
                            selectElement.append(option).trigger('change');
                            selectElement.trigger({
                                type: 'select2:select',
                                params: {
                                    data: item
                                }
                            });
                        }
                        resolve();
                    },
                    error: function () {
                        resolve(); // Resolve even on error
                    }
                });
            });
        }

        function removeLocationFromLocalStorage(uniqueId) {
            let kegiatanLokasi = JSON.parse(localStorage.getItem('KegiatanLokasi')) || [];
            kegiatanLokasi = kegiatanLokasi.filter(item => item.uniqueId !== uniqueId);
            localStorage.setItem('KegiatanLokasi', JSON.stringify(kegiatanLokasi));
        }

        function clearKegiatanLokasiLocalStorage() {
            localStorage.removeItem('KegiatanLokasi');
        }

        $(document).ready(function () {
            let kegiatanLokasi = JSON.parse(localStorage.getItem('KegiatanLokasi')) || [];

            kegiatanLokasi.forEach(data => {
                let uniqueId = addNewLocationInputs(data.uniqueId);
                loadLocationFromLocalStorage(uniqueId);
            });
        });

        // Utility Functions

    </script>

    <!-- javascript to push javascript to stack('basic_tab_js') -->
    <script>
        // Next button
        document.getElementById('next-button').addEventListener('click', function (e) {
            e.preventDefault();
            var tabs = document.querySelectorAll('#details-kegiatan-tab .nav-link');
            var activeTab = document.querySelector('#details-kegiatan-tab .nav-link.active');
            var nextTabIndex = Array.from(tabs).indexOf(activeTab) + 1;

            if (nextTabIndex < tabs.length) {
                tabs[ nextTabIndex ].click();
            }
        });
    </script>

    <!-- JS for Modal Program -->
    <script>
        $(document).ready(function () {
            // Variable to hold the selected program ID
            let programId = null;

            // Event handler when a program is selected in the modal
            $('#list_program_kegiatan tbody').on('click', '.select-program', function (e) {
                e.preventDefault();

                // Fetch the selected program details
                programId = $(this).data('program-id');
                const programKode = $(this).data('program-kode');
                const programNama = $(this).data('program-nama');

                // Update the hidden input and display fields
                $('#program_id').val(programId).trigger('change');
                $('#kode_program').val(programKode);
                $('#nama_program').val(programNama).prop('disabled', true);

                $('#programoutcomeoutputactivity_id, #kode_kegiatan').val('').trigger('change');
                $('#kode_kegiatan').val('').trigger('change');
                $('#nama_kegiatan').val('').trigger('change');

                // Blur the currently focused element
                $('#nama_kegiatan').focus();
                setTimeout(function () {
                    $('#ModalDaftarProgram').modal('hide');
                }, 200);


            });

            // Handle opening the activities modal
            $('#kode_kegiatan').click(function (e) {
                if (!programId) {
                    e.preventDefault(); // Prevent modal from opening
                    Toast.fire({
                        icon: "warning",
                        title: "Opssss...",
                        text: "Please select a program first.",
                        timer: 2000,
                        position: "top-end",
                        timerProgressBar: true,
                    });

                    $('#ModalDaftarProgram').modal('show');
                    return false;
                }
                else {
                    fetchProgramActivities(programId);
                }
            });


            // Function to fetch activities based on programId
            function fetchProgramActivities(programId) {
                const url = 'https://sistem-informasi-idep.dev/kegiatan/api/program/:id/out/activity'.replace(':id', programId);

                $.ajax({
                    url: url,
                    method: 'GET',
                    dataType: 'JSON',
                    beforeSend: function () {
                        Toast.fire({
                            icon: "info",
                            title: "Mencari Kegiatan...",
                            timer: 2000,
                            position: "top-end",
                            timerProgressBar: true,
                        });
                    },
                    success: function (data) {
                        setTimeout(() => {
                            populateModalWithActivities(data);
                        }, 500);
                    },
                    error: function () {
                        Toast.fire({
                            icon: "error",
                            title: "Failed to fetch activities.",
                        });
                    }
                });
            }
            function populateModalWithActivities(data) {
                const tbody = $('#list_program_out_activity tbody'); // Ensure tbody selector points to the correct table
                tbody.empty(); // Clear existing rows
                // Iterate over the activity data

                if (data.length > 0) {
                    data.forEach(activity => {
                        const row = `
                        <tr data-id="${activity.id}" data-kode="${activity.kode}" data-nama="${activity.nama}" data-deskripsi="${activity.deskripsi}" data-indikator="${activity.indikator}" data-target="${activity.target}">
                            <td>${activity.kode}</td>
                            <td>${activity.nama}</td>
                            <td>${activity.deskripsi}</td>
                            <td>${activity.indikator}</td>
                            <td>${activity.target}</td>
                            <td class="text-center">
                                <button type="button" class="btn btn-sm btn-info select-activity" data-id="${activity.id}">
                                    <i class="bi bi-plus-lg"></i>
                                </button>
                            </td>
                        </tr>
                    `;
                        tbody.append(row); // Append the row to the table body
                    });
                }
                else {
                    const row = `
                    <tr>
                        <td colspan="6" class="dt-empty text-center">
                            Tidak ada hasil
                        </td>
                    </tr>
                `;
                    tbody.append(row); // Append the row to the table body
                }

                // Show the modal
                $('#ModalDaftarProgramActivity').modal('show');
            }
        });
    </script>



    <script>
        $(document).ready(function () {
            var docFileIndex = 0;
            var mediaFileIndex = 0;
            var docFileCaptions = {}; // Object to track document files and captions
            var mediaFileCaptions = {}; // Object to track media files and captions

            function handleFileInput(fileInputId, captionContainerId, fileCaptions, allowedExtensions, maxSize) {
                $("#" + fileInputId).fileinput({
                    theme: "fa5",
                    showBrowse: false,
                    showUpload: false,
                    showRemove: false,
                    showCaption: true,
                    showDrag: true,
                    uploadAsync: false,
                    browseOnZoneClick: true,
                    maxFileSize: maxSize,
                    allowedFileExtensions: allowedExtensions,
                    overwriteInitial: false,
                    initialPreview: [], // Initialize with empty preview
                    initialPreviewConfig: []
                }).on('fileloaded', function (event, file, previewId, index, reader) {
                    var uniqueId = fileInputId + '-' + (new Date().getTime());
                    fileCaptions[ uniqueId ] = file.name; // Track the file with its unique ID
                    $('#' + captionContainerId).append(
                        `<div class="form-group" id="caption-group-${uniqueId}">
                        <label for="caption-${uniqueId}"> Masukan Keterangan File ${file.name}</label>
                        <input type="text" class="form-control" name="keterangan[]" id="keterangan-${uniqueId}">
                    </div>`
                    );
                    // Store the unique identifier in the file preview element
                    $(`#${previewId}`).attr('data-unique-id', uniqueId);
                }).on('fileremoved', function (event, id) {
                    // Remove the corresponding caption input
                    var uniqueId = $(`#${id}`).attr('data-unique-id');
                    delete fileCaptions[ uniqueId ]; // Remove the file from the tracking object
                    $(`#caption-group-${uniqueId}`).remove();
                }).on('fileclear', function (event) {
                    // Clear all caption inputs when files are cleared
                    fileCaptions = {}; // Reset the tracking object
                    $('#' + captionContainerId).empty();
                }).on('filebatchselected', function (event, files) {
                    // Clear all caption inputs when new files are selected
                    fileCaptions = {}; // Reset the tracking object
                    $('#' + captionContainerId).empty();
                    // Iterate over each selected file and trigger the fileloaded event manually
                    for (var i = 0; i < files.length; i++) {
                        var file = files[ i ];
                        var uniqueId = fileInputId + '-' + (new Date().getTime());
                        fileCaptions[ uniqueId ] = file.name; // Track the file with its unique ID
                        $('#' + captionContainerId).append(
                            `<div class="form-group" id="caption-group-${uniqueId}">
                            <label class="control-label mb-0 small mt-2" for="caption-${uniqueId}">Masukan Keterangan File : <span class="text-red">${file.name}</span></label>
                            <input type="text" class="form-control" name="keterangan[]" id="caption-${uniqueId}">
                        </div>`
                        );
                    }
                });
            }

            handleFileInput('dokumen_pendukung', 'captions-container-docs', docFileCaptions, [ 'docx', 'doc', 'ppt', 'pptx', 'xls', 'xlsx', 'pdf' ], 4096);
            handleFileInput('media_pendukung', 'captions-container-media', mediaFileCaptions, [ 'jpg', 'png', 'jpeg', 'mp4', 'mkv' ], 10240);
        });
    </script>
    <script>
        function initPenulisSelect2(selectElement) {
            var data_penulis = "https://sistem-informasi-idep.dev/kegiatan/api/penulis";
            var placeholder = "Pilih Penulis";

            selectElement.select2({
                placeholder: placeholder,
                width: '100%',
                allowClear: true,
                ajax: {
                    url: data_penulis,
                    method: 'GET',
                    delay: 250,
                    processResults: function (data) {
                        // Exclude already selected penulis
                        var selectedpenulisIds = $('.penulis-select')
                            .map(function () {
                                return $(this).val();
                            })
                            .get()
                            .filter(Boolean);

                        return {
                            results: data
                                .filter(function (item) {
                                    return !selectedpenulisIds.includes(item.id.toString());
                                })
                                .map(function (item) {
                                    return {
                                        id: item.id,
                                        text: item.nama
                                    };
                                })
                        };
                    },
                    data: function (params) {
                        return {
                            search: params.term,
                            page: params.page || 1
                        };
                    }
                }
            });
        }

        function initJabatanSelect2(selectElement) {
            var data_jabatan = "https://sistem-informasi-idep.dev/kegiatan/api/jabatan";
            var placeholder = "Pilih Jabatan";

            selectElement.select2({
                placeholder: placeholder,
                width: '100%',
                allowClear: true,
                ajax: {
                    url: data_jabatan,
                    method: 'GET',
                    delay: 250,
                    processResults: function (data) {
                        return {
                            results: data.map(function (item) {
                                return { id: item.id, text: item.nama };
                            })
                        };
                    },
                    data: function (params) {
                        return {
                            search: params.term,
                            page: params.page || 1
                        };
                    }
                }
            });
        }

        // Add New penulis and jabatan Input Row
        $('#addPenulis').on('click', function () {

            var newRow = $(`
            <div class="row penulis-row col-12">
                <div class="col-lg-5 form-group mb-0">
                    <label for="penulis" class="input-group small mb-0">Nama Penulis</label>
                    <div class="select2-orange">
                        <select class="form-control select2 penulis-select" name="penulis[]"></select>
                    </div>
                </div>
                <div class="col-lg-5 form-group d-flex align-items-end">
                    <div class="flex-grow-1">
                        <label for="jabatan" class="input-group small mb-0">Jabatan/Peran</label>
                        <div class="select2-orange">
                            <select class="form-control select2 jabatan-select" name="jabatan[]"></select>
                        </div>
                    </div>
                    <div class="ml-2">
                        <button type="button" class="btn btn-danger remove-penulis-row btn-flat">
                            <i class="bi bi-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
        `);
            // Append new row to container
            $('#list_penulis').append(newRow);

            // Initialize Select2 for the new row
            initPenulisSelect2(newRow.find('.penulis-select'));
            initJabatanSelect2(newRow.find('.jabatan-select'));
        });

        // Remove penulis Row
        $('#list_penulis').on('click', '.remove-penulis-row', function () {
            $(this).closest('.penulis-row').remove();
        });

    </script>


</body>

</html>